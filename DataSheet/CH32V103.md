# CH32V103 数据手册
## 概述  

青稞32位微处理器RISC-V3A基于RISC-V开源指令集设计，其系统架构实现了硬件平台的低成本、低功耗及功能应用的最佳平衡。  

CH32V103系列通用微控制器以此处理器为核心，挂载了丰富的外设接口和功能模块，包括时钟安全机制、多级电源管理、通用DMA控制器、多通道12位ADC转换模块、多通道触摸按键电容检测（TKey）、高级和通用定时器、USB2.O主机控制器和设备控制器、多路I2C/USART/SPI接口等。微控制器配备了完整的软硬件平台，调试接口工具，可以满足了工业、医疗、消费类等市场上的各种需求。  

## 产品特性  

### $\bullet$ 内核Core:  

- 支持RV32IMAC 指令集组合，硬件乘法和除法  
- 快速可编程中断控制器+硬件现场保存恢复  
- 静态分支预测机制  
- 冲突处理机制  
- 最高80MHz系统主频  

### $\bullet$ 存储器：  

- 20KB易失数据存储区SRAM  
- 64KB程序存储区CodeFlash  
- 3.75KB系统引l导程序存储区BootLoader  
- 128B系统非易失配置信息存储区  
- 128B用户自定义信息存储区  

### $\bullet$ 电源管理和低功耗：  

- 供电范围： $2.7\vee{\sim}5.5\vee$ ，GPI0同步供电电压
- 多种低功耗模式：睡眠/停止/待机
- VBAT电源独立为RTC和后备寄存器供电  

### $\bullet$ 系统时钟和复位：  

- 内置出厂调校的8MHz的RC振荡器  
- 内置约 $40\mathsf{KHz}$ 的RC振荡器  
- 内置PLL，可选CPU时钟达 ${80}MHz$   
- 外部支持 $4\mathsf{MHz}{\sim}16\mathsf{MHz}$ 高速振荡器  
- 外部支持32.768KHz低速振荡器  
- 上电/断电复位(POR/PDR)、可编程电压监测器(PVD)  

### $\bullet$ 实时时钟RTC：32位独立定时器  

### $\bullet$ 通用DMA控制器：  

- 提供7个通道  
- 支持外设和存储器、存储器和存储器
- 支持环形缓冲区管理  
- 支持外设：TIM/ADC/USART/I2C/SPI  

### $\bullet$ 12位模数转换ADC：  

- 转换范围： $0\sim\mathsf{V}_{\mathsf{D D A}}$ ，最快1us转换完成
- 16路外部信号通道+2路内部信号通道
- 片上温度传感器  

### $\bullet$ 16路TouchKey通道检测  

### $\bullet$ 7个定时器：  

- 1个16位高级定时器，包含通用定时器功能，并自带死区控制和紧急刹车，提供用于电机控制的PWM  
- 3个16位通用定时器，提供多达4个用于输入捕获/输出比较/PWM/脉冲计数的通道和增量编码器输入  
- 2 个看门狗定时器 (独立和窗口型)  
- 系统时间定时器：64位自增型计数器  

### $\bullet$ 8个标准通讯接口：  

- USB2.0主机/设备接口（全速和低速）
- 2个I2C接口（支持SMBus/PMBus）
- 3个USART 接口（支持IS07816接口、LIN、IrDA接口和调制解调控制）
- 2个SPI接口（支持Master和Slave模式）

### $\bullet$ 快速GPI0端口：
- 多达51个I/O口
- 可映射到16个外部中断
### $\bullet$ 安全特性：CRC计算单元，96位芯片唯一ID
### $\bullet$ 调试模式：串行2线调试接口  

### $\bullet$ 封装形式：  
- LQFP64M  
- LQFP48  
- QFN48X7  

## 第1章 规格信息  

CH32V103系列MCU产品使用青稞微处理器，支持RV32IMAC开源指令。最高工作频率 ${80}M H z$ ,内置高速存储器，并采用预取方式提高指令访问速度。系统结构中多条总线同步工作，提供了丰富的外设功能和增强型I/0端口。本系列产品内置RTC、时钟安全机制、1个12位ADC转换模块、多组定时器、16 通道触摸按键电容检测（TKey）等功能，还包含标准的通讯接口：2个I2C 接口、2个 SPI接口、3个USART接口、1个USB2.0全速主机/设备接口（全/低速通讯）。  

本系列产品供电电压为 $2.7\mathsf{V}{\sim}5.5\mathsf{V}$ ，工作温度范围为 $-40^{\circ}C\sim85^{\circ}C$ 工业级。支持多种省电工作模式来满足产品低功耗应用要求。本系列中各产品在资源分配、外设数量、外设功能等方面有所差异，按需选择。提供了LQFP64M/LQFP48/QFN48-7\*7几种封装形式。可以广泛应用于：电机驱动和应用控制、医疗和手持设备、PC游戏外设和GPS平台、可编程控制器、变频器、打印机、扫描仪、警报系统、视频对讲、暖气通风空调系统等场合。  

### 1.1型号对比  

表1-1CH32V103×产品资源分配  


<html><body><table><tr><td colspan="2">产品型号<br>资源差异</td><td>CH32V103 C6T6</td><td>CH32V103 C8T6</td><td>CH32V103 C8U6</td><td>CH32V103<br>R8T6</td></tr><tr><td colspan="2"> 芯片引脚数</td><td>48</td><td>48</td><td>48</td><td>64</td></tr><tr><td colspan="2">闪存 (字节)</td><td>32K</td><td>64K</td><td>64K</td><td>64K</td></tr><tr><td colspan="2">SRAM（字节）</td><td>10K</td><td>20K</td><td>20K</td><td>20K</td></tr><tr><td colspan="2">GPI0端口数 </td><td>37</td><td>37</td><td>37</td><td>51</td></tr><tr><td rowspan="4">定 时 器</td><td>通用</td><td>2</td><td>3</td><td>3</td><td>3</td></tr><tr><td>高级</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>看门狗</td><td>2</td><td>2</td><td>2</td><td>2</td></tr><tr><td>系统时钟</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td colspan="2">ADC/TKey（通道数)</td><td>10</td><td>10</td><td>10</td><td>16</td></tr>
<tr>
    <td rowspan="4">通信接口</td><td>SPI</td><td>1</td><td>2</td><td>2</td><td>2</td></tr><tr><td>I2C</td><td>1</td><td>2</td><td>2</td><td>2</td></tr><tr><td>USART</td><td>2</td><td>3</td><td>3</td><td>3</td></tr><tr><td>USBHD 2. OFS</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td colspan="2">CPU主频</td><td colspan="5">典型：72MHz</td></tr><tr><td colspan="2">工作电压</td><td colspan="5">2. 7V~5. 5V</td></tr><tr><td colspan="2">工作温度</td><td colspan="5">工业级：-40°℃～85℃</td></tr><tr><td colspan="2">封装形式</td><td colspan="2">LQFP48</td><td>QFN48X7</td><td>LQFP64M (10*10)</td></tr></table></body></html>  

### 1.2 系统架构  

CH32V103系列产品是基于青稞RISC-V3A处理器设计的通用微控制器，其架构中的内核、仲裁单元、DMA模块、SRAM存储等部分通过多组总线实现交互。内核采用流水线处理结构，设置了静态分支预测、指令预取机制，实现系统低功耗、低成本、高速运行的最佳性能比。控制器中设有通用DMA控制器以减轻CPU负担、提高效率，时钟树分级管理降低了外设总的运行功耗，同时兼有数据保护机制，时钟安全系统保护机制等措施来增加系统稳定性。  

下图是系列产品内部架构框图。  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/7db77a8db42c077d95d77efb1f9e7d88aad288f05e6276806cb2d07f07f04a26.jpg)  
图 1-1 系统框图  

### 1.3存储器映射表  

图1-2存储器地址映射  

### 1.4时钟树  

系统提供4组时钟源：内部高频RC振荡器（HSI)、内部低频RC 振荡器（LSI）、外接高频振荡器或时钟信号（HSE)、外接低频振荡器或时钟信号（LSE）。其中，系统总线时钟（SYSCLK）来自高频时钟源(HSI/HSE)或者其送入PLL倍频后产生的更高时钟。而AHB域、APB1域、APB2域则由系统时钟或前一级经过相应的预分频器分频得到。  

低频时钟源为RTC和独立看门狗提供了时钟基准。  
PLL倍频时钟直接通过分频器提供USBHD模块的工作时钟基准48MHz。  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/6d7ba7fe376deea42cdab4af672bf6ff7377dd13e09a64c3d02278e24b9fb4c5.jpg)  
图1-3 时钟树框图  

注：1、当使用USB功能时，必须同时使用PLL，CPU的频率必须是48MHz或72MHz。2、当需要ADC采样时间为1us时，APB2必须设置在14MHz、28MHz或56MHz。3、当系统从睡眠状态唤醒时，系统会自动切换为HSI做主频。4、对Flash进行擦写、编程时，必须保证HSI打开。  

### 1.5 功能概述  

#### 1.5.1RISC-V3A处理器  

青稞RISC-V3A是32位嵌入式处理器，内部模块化管理，支持RISC-V开源指令集IMAC子集。包含快速可编程中断控制器（PFIC），提供了4个向量可编程的快速中断通道及44个优先级可配的普通中断，通过硬件现场保存和恢复的方式实现中断的最短周期响应；包含2线串行调试接口，支持用户在线升级和调试；包括多组总线连接处理器外部单元模块，实现外部功能模块和内核的交互。支持机器和用户特权模式  

$\bullet$ RV32IMAC指令集，小端数据模式  
$\bullet$ 支持机器和用户特权模式  
$\bullet$ 快速可编程中断控制器（PFIC），Tail-Chaining 尾链中断处理，2级硬件压栈  
$\bullet$ 串行2线调试接口  
$\bullet$ 分支预测、高效跳转、冲突检测机制  

此设计基础的处理器以其极简指令集、多种工作模式、模块化定制扩展等特点可以灵活应用不同场景微控制器设计，例如小面积低功耗嵌入式场景、高性能应用操作系统场景等。  

CH32V1系列控制器采用RISC-V3A 核心，配备了完整的软硬件平台和工具，支持应用代码的在线下载、调试、跟踪。  

#### 1.5.2片上存储器及自举模式  

内置20K字节SRAM区，用于存放数据。  
内置64K字节程序闪存存储区（CodeFlash），用于用户的应用程序存储。  
内置3.75K字节系统存储区（BootLoader），用于系统引导程序存储（厂家固化自举加载程序）。  
额外，128字节用于厂商配置字存储，128字节用于用户选择字存储。  
在启动时，通过自举引脚（B0OTO和B00T1）可以选择三种自举模式中的一种：$\bullet$ 从程序闪存存储器自举  
$\bullet$ 从系统存储器自举  
$\bullet$ 从内部SRAM自举  
自举加载程序存放于系统存储区，可以通过USART1和USB接口对程序闪存存储区内容重新编程。  

#### 1.5.3供电方案  

$\lor_{\tt O D}=2.7{\sim}5.5\lor$ .. $\mathsf{V}_{\mathsf{D D}}$ 引脚为I/0引脚、RC振荡器、复位模块和内部调压器供电。$\mathsf{V}_{\mathsf{D D A}}=2.7{\sim}5.5\mathsf{V}$ ：为ADC、温度传感器和PLL的模拟部分提供供电。 $\mathsf{V}_{\mathsf{D D A}}$ 和 $\mathsf{V}_{\mathsf{S S A}}$ 必须分别连接到 $\mathsf{V}_{\mathsf{D D}}$ 和 $\boldsymbol{\mathsf{V}}_{\mathsf{S}\mathsf{S}},$ $\mathsf{V}_{\mathsf{B A T}}=1.8{\sim}5.5\mathsf{V}$ ：当 $\mathsf{V}_{\mathsf{D D}}$ 移除或者不工作时， $\mathsf{V}_{\mathsf{B A T}}$ 单独为RTC、外部 $32K\mathsf{H z}$ 振荡器和后备寄存器供电。  

#### 1.5.4供电监控器  

本产品内部集成了上电复位(POR)/掉电复位(PDR)电路，该电路始终处于工作状态，保证系统在供电超过2.7V时工作；当 $\mathsf{V}_{\mathsf{D D}}$ 低于设定的阈值 $(\mathsf{V}_{\mathsf{P O R/P D R}})$ 时，置器件于复位状态，而不必使用外部复位电路。  

另外设有一个可编程的电压监测器（PVD），需要通过软件开启，用于比较 $\mathsf{V}_{\mathsf{D D}}/\mathsf{V}_{\mathsf{D D A}}$ 供电与设定的阈值 $\mathsf{V}_{\mathsf{P V D}}$ 的电压大小。打开PVD 相应边沿中断，可在 $\mathsf{V}_{\mathsf{D D}}$ 下降到PVD阈值或上升到PVD阀值时，收到中断通知。关于 $\mathsf{V}_{\mathsf{P O R/P D R}}$ 和 $\mathsf{V}_{\mathsf{P V D}}$ 的值参考表3-4。  

#### 1.5.5电压调节器  

复位后，调节器自动开启，根据应用方式有三个操作模式  

$\bullet$ 开启模式：正常的运行操作，提供稳定的内核电源$\bullet$ 低功耗模式：当CPU进入停止模式后，可选择调节器低功耗运行  

$\bullet$ 关断模式：当CPU进入待机模式后自动切换调节器到此模式，调压器输出为高阻状态，内核 电路的供电切断，调压器处于零消耗状态  

该调压器在复位后始终处于开启模式，在待机模式下被关闭处于关断模式，此时是高阻输出。  

#### 1.5.6低功耗模式  

系列产品支持三种低功耗模式，可以在要求低功耗、短启动时间和多种唤醒事件等条件下选择达到最佳的平衡。  

$\bullet$ 睡眠模式  

执行WFI/WFE 指令进入。在睡眠模式下，只有CPU 时钟停止，但所有外设时钟供电正常，外设处于工作状态。此模式是最浅低功耗模式，但可以达到最快唤醒。  

退出条件：任意中断或唤醒事件。  

$\bullet$ 停止模式  

清除PDDS位、置位SLEEPDEEP位、选择清除/置位LPDS位，执行WFI/WFE指令进入。在停止模式下，FLASH进入低功耗模式，由LPDS位决定是否关闭内核部分的供电，PLL、HSI的RC振荡器和HSE晶体振荡器被关闭。在保持SRAM和寄存器内容不丢失的情况下，停止模式可以达到最低的电能消耗。  

退出条件：任意外部中断/事件（EXTI信号）、NRST上的外部复位信号、IWDG 复位、WKUP引I脚上的一个上升边沿，其中 EXTI信号包括16个外部I/0 口之一、PVD 的输出、RTC闹钟或USB 的唤醒信号。  

$\bullet$ 待机模式  

置位 PDDS、SLEEPDEEP 位，执行 WFI/WFE 指令进入。内核部分的供电被关闭；PLL、HSI的 RC 振荡器和HSE晶体振荡器也被关闭；此模式下可以达到最低的电能消耗，但唤醒后系统复位。  

退出条件：任意外部中断/事件（EXTI信号）、NRST上的外部复位信号、IWDG复位、WKUP引I脚上的一个上升边沿，其中 EXTI信号包括16个外部I/0口之一、PVD 的输出、RTC闹钟或USB的唤醒信号。  

#### 1.5.7CRC（循环冗余校验）计算单元  

CRC（循环余校验）计算单元使用一个固定的多项式发生器，从一个32位的数据字产生一个CRC码。在众多的应用中，基于CRC的技术被用于验证数据传输或存储的一致性。在EN/IEC60335-1标准的范围内，提供了一种检测闪存存储器错误的手段，CRC计算单元可以用于实时地计算软件的签名，并与在链接和生成该软件时产生的签名对比。  

#### 1.5.8快速可编程中断控制器（PFIC） 

产品内置快速可编程中断控制器（PFIC），最多支持255个中断向量。CH32V1控制器提供了5个内核私有中断和44个外设中断管理，其他中断源保留。PFIC的寄存器均可以在用户和机器特权模式下访问。  

$\bullet$ $^{44+3}$ 个可单独屏蔽中断  
$\bullet$ 提供一个不可屏蔽中断NMI  
$\bullet$ 16级优先级编程，动态修改。  
$\bullet$ 2级嵌套中断进入和退出硬件自动压栈和恢复，无需指令开销$\bullet$ 4路可编程快速中断通道，自定义中断向量地址  
$\bullet$ 支持中断尾部链接功能  
$\bullet$ 提供不可屏蔽中断第一时间响应  

该模块以最小的中断延迟提供了灵活的中断管理功能。  

#### 1.5.9外部中断/事件控制器（EXTI）

外部中断/事件控制器包含20个边沿检测器，用于产生中断/事件请求。每个中断线都可以独立地配置其触发事件（上升沿或下降沿或双边沿），并能够单独地被屏蔽；挂起寄存器维持所有中断请求状态。EXT1可以检测到脉冲宽度小于内部APB2的时钟周期。多达51个通用I/O口都可选择连接到16  

个外部中断线。  

#### 1.5.10 通用DMA 控制器  

灵活的通用DMA可以管理存储器到存储器、外设到存储器和存储器到外设间的高速数据传输，提供7个通道，支持环形缓冲区管理。每个通道都有专门的硬件DMA请求逻辑，支持一个或多个外设对存储器的访问请求、存储器到存储器数据传输，可配置访问优先权、传输长度、传输的源地址和目标地址等。  

DMA用于主要的外设包括：通用／高级控制定时器TIM、ADC、USART、I2C、SPI。  

#### 1.5.11 时钟和启动  

系统时钟源HSI默认开启，在没有配置时钟或者复位后，内部8MHz的RC振荡器作为默认的CPU时钟，随后可以另外选择外部 $4{\sim}16\mathsf{M H z}$ 时钟或PLL时钟。当打开时钟安全模式后，如果HSE用作系统时钟（直接或间接），此时检测到外部时钟失效，系统时钟将自动切换到内部RC振荡器，同时HSE和PLL自动关闭；对于关闭时钟的低功耗模式，唤醒后系统也将自动地切换到内部的RC振荡器。如果使能了时钟中断，软件可以接收到相应的中断。  

多个预分频器用于配置 AHB 总线时钟、高速 APB2和低速 APB1区域总线时钟。参考图1-2 的时钟树框图。  

#### 1.5.12 RTC（实时时钟）和后备寄存器  

RTC 和后备寄存器在产品内部处于后备供电区域，在 $\mathsf{V}_{\mathsf{D D}}$ 有效时由 $\mathsf{V}_{\mathsf{D D}}$ 供电，否则内部自动切换到由 $\mathsf{V}_{\mathsf{B A T}}$ 引脚供电。  

RTC实时时钟是一组32位可编程计数器，时基支持20位预分频，用于较长时间段的测量。时钟基准来源高速的外部时钟128分频（HSE/128）、外部晶体的32.768KHz的振荡器（LSE)或内部低功耗RC 振荡器（LSI）。其中LSE也存在后备供电区域，所以，当选择LSE 做 RTC 时基下，系统复位或从待机模式唤醒后，RTC的设置和时间能够保持不变。  

后备寄存器包含10个16位寄存器，可以用来存储20字节的用户应用数据。此数据在待机唤醒后，或系统复位或电源复位时，都能维持不会被复位。在侵入检测功能开启下，一旦侵入检测信号有效，可清除后备寄存器中所有内容。  

#### 1.5.13ADC（模拟/数字转换器）和触摸按键电容检测（TKey）  

产品内置1个12位的模拟/数字转换器（ADC），提供多达16个外部通道和2个内部通道采样，可编程的通道采样时间，可以实现单次、连续、扫描或间断模式转换。提供模拟看门狗功能允许非常精准地监控一路或多路选中的通道，用于监测通道信号电压。支持外部事件触发转换，触发源包括片上定时器的内部信号和外部引I脚（EXTI线11）。支持使用DMA操作。  

ADC内部通道采样包括一路内置温度传感器采样和一路内部参考电源采样。温度传感器产生一个随温度线性变化的电压，需供电范围在 $3.0\lor<\lor_{\mathsf{D}0\mathsf{A}}<5.5\lor$ 之间。温度传感器在内部被连接到ADC_IN16的输入通道上，用于将传感器的输出转换到数字数值。  

触摸按键电容检测功能，复用ADC的外部通道，提供了多达16路检测。应用程序通过数字值的变化量判断触摸按键状态。  

#### 1.5.14定时器  

定时器包含1个高级16位定时器、3个通用16位定时器，以及2个看门狗定时器和1个系统时基定时器。  

##### 1.5.14.1高级控制定时器（TIM1） 

高级控制定时器(TIM1)是一个16 位的自动装载计数器，具有可编程的预分频器。除了完整的通用定时器功能外，可以被看成是分配到6个通道的三相PWM发生器，具有带死区插入的互补PWM输出功能，允许在指定数目的计数器周期之后更新定时器进行重复计数周期，刹车功能等。高级控制定时器的很多功能都与通用定时器相同，内部结构也相同，因此高级控制定时器可以通过定时器链接功能与TIM定时器协同操作，提供同步或事件链接功能。  

##### 1.5.14.2通用定时器（TIM2/3/4）  

系统内置了多达3个可同步运行的标准定时器（TIM2、TIM3和TIM4）。每个定时器都有一个16位的自动装载递加/递减计数器、一个可编程的16位预分频器和4个独立的通道，每个通道都可用于输入捕获、输出比较、PWM生成和单脉冲模式输出。  

还能通过定时器链接功能与高级控制定时器共同工作，提供同步或事件链接功能。在调试模式下，计数器可以被冻结，同时PWM输出被禁止，从而切断由这些输出所控制的开关。任意通用定时器都能用于产生PWM输出。每个定时器都有独立的DMA请求机制。  

这些定时器还能够处理增量编码器的信号，也能处理1至3个霍尔传感器的数字输出。  

##### 1.5.14.3独立看门狗（IWDG）  

独立看门狗是一个自由运行的12位递减计数器，有一个8位的预分频器。由一个内部独立的40KHz的RC振荡器提供时钟；因为这个RC振荡器独立于主时钟，所以可运行于停止和待机模式。IWDG在主程序之外，可以完全独立工作，因此，用于在发生问题时复位整个系统，或作为一个自由定时器为应用程序提供超时管理。通过选项字节可以配置成是软件或硬件启动看门狗。在调试模式下，计数器可以被冻结。  

##### 1.5.14.4窗口看门狗(WWDG)  

窗口看门狗是一个7位的递减计数器，并可以设置成自由运行。可以被用于在发生问题时复位整个系统。其由主时钟驱动，具有早期预警中断功能；在调试模式下，计数器可以被冻结。  

##### 1.5.14.5系统时基定时器（SysTick）  

这是内核控制器自带的一个定时器，用于产生SYSTICK异常，可专用于实时操作系统，为系统提供“心跳”节律，也可当成一个标准的64位递增计数器。以AHB时钟的8分频为基准时钟源。当计数器递增到设置比较值时，产生一个可屏蔽系统中断。  

#### 1.5.15通用同步／异步收发器（USART） 

3组通用异步收发器USART，支持全双工异步通信、同步单向通信以及半双工单线通信，也支持LIN（局部互连网），兼容IS07816的智能卡协议和IrDASIRENDEC传输编解码规范，以及调制解调器(CTS/RTS硬件流控)操作。还允许多处理器通信。其采用分数波特率发生器系统，USART1接口最高达4.5Mbits/s，USART2/3可达2.25Mbits/s。支持DMA操作连续通讯。  

#### 1.5.16串行外设接口(SPI)  

2组串行外设SPI接口，提供主或从操作，动态切换。支持多主模式，全双工或半双工同步传输，支持基本的SD卡和MMC模式。时钟频率最高可达 $36\mathsf{M H z}$ ，可编程的时钟极性和相位，数据位宽提供8或16位选择，可靠通信的硬件CRC产生/校验，支持DMA操作连续通讯。  

#### 1.5.17I2C总线  

多达2个I2C 总线接口，能够工作于多主机模式或从模式，完成所有12C 总线特定的时序、协议、仲裁等。支持标准和快速两种通讯速度，同时与SMBus2.0兼容。  

I2C接口提供7位或10位寻址，并且在7位从模式时支持双从地址寻址。内置了硬件CRC发生器/校验器。可以使用DMA操作并支持SMBus总线2.0版/PMBus总线。  

#### 1.5.18通用串行总线（USB）  

产品内置1个USB2.0主机控制器和设备控制器（USBHD），遵循USB2.0Fullspeed 标准。提供16个可配置的USB设备端点及一组主机端点，支持USBHost或USBDevice。支持控制/批量/同步/中断传输，双缓冲区机制，USB总线挂起/恢复操作，并提供待机/唤醒功能。USBHD模块专用的48MHz时钟由内部主PLL分频直接产生（PLL必须为72MHz或48MHz）。  

#### 1.5.19通用输入输出接口(GPI0)  

系统提供了4组GP10端口，共51个GPI0引脚。每个引脚都可以由软件配置成输出（推挽或开漏）、输入(带或不带上拉或下拉)或复用的外设功能端口。多数GPI0引脚都与数字或模拟的复用外设共用。除了具有模拟输入功能的端口，所有的GPI0引脚都有大电流通过能力。提供锁定机制冻结10配置，以避免意外的写入I/O寄存器。  

#### 1.5.20 2线串行调试接口（2-wire SDlSerialDebugInterface)  

内核自带一个串行2线调试的接口（SDI），包括SWDI0和 SWCLK引脚。系统上电或复位后默认调试接口引脚功能开启，主程序运行后可以根据需要关闭SDI。  

## 第 2章引脚信息  

### 2.1引脚排列  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/bc9bb7e0ffa98122d2faad0c971d09fc24a56220a5b5fdcce266ae73377ba27a.jpg)  

### 2.2引脚描述  

注意， 下表中的引脚功能描述针对的是所有功能，不涉及具体型号产品。不同型号之间外设资源有差异，查看前请先根据产品型号资源表确认是否有此功能。  

表2-1CH32V103x8x6引|脚定义  


<html><body><table><tr><td colspan="3">引脚编号</td><td rowspan="2">引脚名称</td><td rowspan="2">引脚类型</td><td rowspan="2">主功能（复位后）</td><td rowspan="2">默认复用功能</td><td rowspan="2">重映射功能</td></tr>
<tr><td>LQFP48</td><td>QFN48X7</td><td>LQFP64M</td></tr>
<tr><td>1</td><td>1</td><td>1</td><td>VBAT</td><td>P</td><td>VBAT</td></tr>
<tr><td>2</td><td>2</td><td>2</td><td>PC13-TAMPER-RTC</td><td>IO</td><td>PC13</td><td>TAMPER-RTC</td><td></td></tr>
<tr><td>3</td><td>3</td><td>3</td><td>PC14- 
OSC32_IN</td><td>I/O/A</td><td>PC14</td><td>OSC32_IN</td><td></td></tr><tr><td>4</td><td>4</td><td>4</td><td>PC15- 
OSC32_OUT</td><td>I/O/A</td><td>PC15</td><td>OSC32_OUT</td><td></td></tr><tr><td>5</td><td>5</td><td>5</td><td>OSC_IN</td><td>I/A</td><td>OSC_IN</td><td></td><td>PD0</td></tr><tr><td>6</td><td>6</td><td>6</td><td>OSC_OUT</td><td>O/A</td><td>OSC_OUT</td><td></td><td>PD1</td></tr><tr><td>7</td><td>7</td><td>7</td><td>NRST</td><td>I/O</td><td>NRST</td><td></td><td></td></tr><tr><td></td><td></td><td>8</td><td>PCO</td><td>I/O/A</td><td>PCO</td><td>ADC_IN10</td><td></td></tr><tr><td></td><td></td><td>9</td><td>PC1</td><td>I/O/A</td><td>PC1</td><td>ADC_IN11</td><td></td></tr><tr><td></td><td></td><td>10</td><td>PC2</td><td>I/O/A</td><td>PC2</td><td>ADC_IN12</td><td></td></tr><tr><td></td><td></td><td>11</td><td>PC3</td><td>I/O/A</td><td>PC3</td><td>ADC_IN13</td><td></td></tr><tr><td>8</td><td>8</td><td>12</td><td>VssA</td><td>P</td><td>VssSA</td><td></td><td></td></tr><tr><td>9</td><td>9</td><td>13</td><td>VDDA</td><td>P</td><td>VDDA</td><td></td><td></td></tr><tr><td>10</td><td>10</td><td>14</td><td>PAO-WKUP</td><td>I/O/A</td><td>PAO</td><td>WKUP/USART2_CTS/ADC_INO/ TIM2_CH1/TIM2_ETR</td><td></td></tr><tr><td>11</td><td>11</td><td>15</td><td>PA1</td><td>I/O/A</td><td>PA1</td><td>USART2_RTS/ADC_IN1/ TIM2_CH2</td><td></td></tr><tr><td>12</td><td>12</td><td>16</td><td>PA2</td><td>I/O/A</td><td>PA2</td><td>USART2_TX/ADC_IN2/ TIM2_CH3</td><td></td></tr><tr><td>13</td><td>13</td><td>17</td><td>PA3</td><td>I/O/A</td><td>PA3</td><td>USART2_RX/ADC_IN3/ TIM2_CH4</td><td></td></tr><tr><td></td><td></td><td>18</td><td>Vss_ 4</td><td>P</td><td>Vss_4</td><td></td><td></td></tr><tr><td></td><td></td><td>19</td><td>VDD_4</td><td>P</td><td>VDD_4</td><td></td><td></td></tr><tr><td>14</td><td>14</td><td>20</td><td>PA4</td><td>I/O/A</td><td>PA4</td><td>SP11_NSS/USART2_CK/ADC_IN4</td><td></td></tr><tr><td>15</td><td>15</td><td>21</td><td>PA5</td><td>I/O/A</td><td>PA5</td><td> SP11_SCK/ADC_IN5</td><td></td></tr><tr><td>16</td><td>16</td><td>22</td><td>PA6</td><td>I/O/A</td><td>PA6</td><td>SPI1_MIS0/ADC_IN6/ TIM3_CH1</td><td>TIM1_BKIN_1</td></tr><tr><td>17</td><td>17</td><td>23</td><td>PA7</td><td>I/O/A</td><td>PA7</td><td>SPI1_MOSI/ADC_IN7/TIM3_CH2</td><td>TIM1_CH1N_1</td></tr><tr><td></td><td></td><td>24</td><td>PC4</td><td>I/O/A</td><td>PC4</td><td> ADC_IN14</td><td></td></tr><tr><td></td><td></td><td>25</td><td>PC5</td><td>I/O/A</td><td>PC5</td><td>ADC_IN15</td><td></td></tr><tr><td>18</td><td>18</td><td>26</td><td>PB0</td><td>I/O/A</td><td>PBO</td><td>ADC_IN8/TIM3_CH3</td><td>TIM1_CH2N_1</td></tr><tr><td>19</td><td>19</td><td>27</td><td>PB1</td><td>I/O/A</td><td>PB1</td><td>ADC_IN9/TIM3_CH4</td><td>TIM1_CH3N_1</td></tr><tr><td>20</td><td>20</td><td>28</td><td>PB2</td><td>I/O</td><td>PB2 /B00T1</td><td></td><td></td></tr><tr><td>21</td><td>21</td><td>29</td><td>PB10</td><td>I/O</td><td>PB10</td><td>12C2_SCL/USART3_TX</td><td>TIM2_CH3_1</td></tr><tr><td>22</td><td>22</td><td>30</td><td>PB11</td><td>I/O</td><td>PB11</td><td>12C2_SDA/USART3_RX</td><td>TIM2_CH4_1</td></tr><tr><td>23</td><td>23</td><td>31</td><td>Vss_1</td><td>P</td><td>Vss_1</td><td></td><td></td></tr><tr><td>24</td><td>24</td><td>32</td><td>VDD_1</td><td>P</td><td>VDD_1</td><td></td><td></td></tr><tr><td>25</td><td>25</td><td>33</td><td>PB12</td><td>I/O</td><td>PB12</td><td>SP12_NSS/12C2_SMBAI/ USART3_CK/TIM1_BKIN</td><td></td></tr><tr><td>26</td><td>26</td><td>34</td><td>PB13</td><td>I/O</td><td>PB13</td><td>SP12_SCK/USART3_CTS/ TIM1_CH1N</td><td></td></tr><tr><td>27</td><td>27</td><td>35</td><td>PB14</td><td>I/O</td><td>PB14</td><td>SP12_MIS0/USART3_RTS/ TIM1_CH2N</td><td></td></tr><tr><td>28</td><td>28</td><td>36</td><td>PB15</td><td>I/O</td><td>PB15</td><td>SP12_MOS1/TIM1_CH3N</td><td></td></tr><tr><td></td><td></td><td>37</td><td>PC6</td><td>I/O</td><td>PC6</td><td></td><td>TIM3_CH1_1</td></tr><tr><td></td><td></td><td>38</td><td>PC7</td><td>I/O</td><td>PC7</td><td></td><td>TIM3_CH2_1</td></tr><tr><td></td><td></td><td>39</td><td>PC8</td><td>I/O</td><td>PC8</td><td></td><td>TIM3_CH3_1</td></tr><tr><td></td><td></td><td>40</td><td>PC9</td><td>I/O</td><td>PC9</td><td></td><td>TIM3_CH4_1</td></tr><tr><td>29</td><td>29</td><td>41</td><td>PA8</td><td>I/O</td><td>PA8</td><td>USART1_CK/TIM1_CH1/MCO</td><td></td></tr><tr><td>30</td><td>30</td><td>42</td><td>PA9</td><td>I/O</td><td>PA9</td><td>USART1_TX/TIM1_CH2</td><td></td></tr><tr><td>31</td><td>31</td><td>43</td><td>PA10</td><td>I/O</td><td>PA10</td><td>USART1_RX/TIM1_CH3</td><td></td></tr><tr><td>32</td><td>32</td><td>44</td><td>PA11</td><td>I/O/A</td><td>PA11</td><td>USART1_CTS/USBHDM/TIM1_CH4</td><td></td></tr><tr><td>33</td><td>33</td><td>45</td><td>PA12</td><td>I/O/A</td><td>PA12</td><td>USART1_RTS/USBHDP/TIM1_ETR</td><td></td></tr><tr><td>34</td><td>34</td><td>46</td><td>PA13</td><td>I/O</td><td>SWDIO</td><td></td><td>PA13</td></tr><tr><td>35</td><td>35</td><td>47</td><td>Vss_2</td><td>P</td><td>Vss_2</td><td></td><td></td></tr><tr><td>36</td><td>36</td><td>48</td><td>VDD_2</td><td>P</td><td>VDD_2</td><td></td><td></td></tr><tr><td>37</td><td>37</td><td>49</td><td>PA14</td><td>I/O</td><td>SWCLK</td><td></td><td>PA14</td></tr><tr><td>38</td><td>38</td><td>50</td><td>PA15</td><td>I/O</td><td>PA15</td><td></td><td>TIM2_CH1_1/TIM2_ETR_1/ SPI1_NSS_1</td></tr><tr><td></td><td></td><td>51</td><td>PC10</td><td>I/O</td><td>PC10</td><td></td><td>USART3_TX_1</td></tr><tr><td></td><td></td><td>52</td><td>PC11</td><td>I/O</td><td>PC11</td><td></td><td>USART3_RX_1</td></tr><tr><td></td><td></td><td>53</td><td>PC12</td><td>I/O</td><td>PC12</td><td></td><td>USART3_CK_1</td></tr><tr><td></td><td></td><td>54</td><td>PD2</td><td>I/O</td><td>PD2</td><td>TIM3_ETR</td><td></td></tr><tr><td>39</td><td>39</td><td>55</td><td>PB3</td><td>I/O</td><td>PB3</td><td></td><td>TIM2_CH2_1/SPI1_SCK_1</td></tr><tr><td>40</td><td>40</td><td>56</td><td>PB4</td><td>I/O</td><td>PB4</td><td></td><td>TIM3_CH1_1/ SPI1_MIS0_1</td></tr><tr><td>41</td><td>41</td><td>57</td><td>PB5</td><td>I/O</td><td>PB5</td><td>12C1_SMBAI</td><td>TIM3_CH2_1/SPI1_M0SI_1</td></tr><tr><td>42</td><td>42</td><td>58</td><td>PB6</td><td>I/O/A</td><td>PB6</td><td>I2C1_SCL/TIM4_CH1</td><td>USART1_TX_1</td></tr><tr><td>43</td><td>43</td><td>59</td><td>PB7</td><td>I/O/A</td><td>PB7</td><td>I2C1_SDA/TIM4_CH2</td><td>USART1_RX_1</td></tr><tr><td>44</td><td>44</td><td>60</td><td>B00T0</td><td>I</td><td>B00T0</td><td></td><td></td></tr><tr><td>45</td><td>45</td><td>61</td><td>PB8</td><td>I/O/A</td><td>PB8</td><td>TIM4_CH3</td><td>12C1_SCL_1</td></tr><tr><td>46</td><td>46</td><td>62</td><td>PB9</td><td>I/O/A</td><td>PB9</td><td>TIM4_CH4</td><td>12C1_SDA_1</td></tr><tr><td>47</td><td>47</td><td>63</td><td>Vss_3</td><td>P</td><td>Vss_3</td><td></td><td></td></tr><tr><td>48</td><td>48</td><td>64</td><td>VDD_3</td><td>P</td><td>VDD_3</td><td></td><td></td></tr></table></body></html>  

表2-2CH32V103x6x6引|脚定义  


<html><body><table><tr><td colspan="2">引脚编号</td><td rowspan="2">引脚 名称</td><td rowspan="2">引脚 类型</td><td rowspan="2">主功能 （复位后）</td><td rowspan="2">默认复用功能</td><td rowspan="2">重映射功能</td></tr><tr><td>LQFP48</td><td>LQFP64M</td></tr><tr><td>1</td><td>1</td><td>VBAT</td><td>P</td><td>VBAT</td><td></td><td></td></tr><tr><td>2</td><td>2</td><td>PC13-TAMPER-RTC</td><td>I/O</td><td>PC13</td><td>TAMPER-RTC</td><td></td></tr><tr><td>3</td><td>3</td><td>PC14- 0SC32_IN</td><td>I/O/A</td><td>PC14</td><td>OSC32_IN</td><td></td></tr><tr><td>4</td><td>4</td><td>PC15- 0SC32_0UT </td><td>I/O/A</td><td>PC15</td><td>0SC32_0UT</td><td></td></tr><tr><td>5</td><td>5</td><td>0SC8M_IN</td><td>I/A</td><td>0SC8M_IN</td><td></td><td>PD0 </td></tr><tr><td>6</td><td>6</td><td>0SC8M_OUT</td><td>O/A</td><td>0SC8M_OUT</td><td></td><td>PD1</td></tr><tr><td>7</td><td>7</td><td>NRST</td><td>I/O</td><td>NRST</td><td></td><td></td></tr><tr><td></td><td>8</td><td>PCO</td><td>I/O/A</td><td>PCO</td><td>ADC_IN10</td><td></td></tr><tr><td></td><td>9</td><td>PC1</td><td>I/O/A</td><td>PC1</td><td>ADC_IN11</td><td></td></tr><tr><td></td><td>10</td><td>PC2</td><td>I/O/A</td><td>PC2</td><td>ADC_IN12</td><td></td></tr><tr><td></td><td>11</td><td>PC3</td><td>I/O/A</td><td>PC3</td><td>ADC_IN13</td><td></td></tr><tr><td>8</td><td>12</td><td>VssA</td><td>P</td><td>VssA</td><td></td><td></td></tr><tr><td>9</td><td>13</td><td>VDDA</td><td>P</td><td>VDDA</td><td></td><td></td></tr><tr><td>10</td><td>14</td><td>PAO-WKUP</td><td>I/O/A</td><td>PAO</td><td>WKUP/USART2_CTS/ADC_INO/ TIM2_CH1/TIM2_ETR</td><td></td></tr><tr><td>11</td><td>15</td><td>PA1</td><td>I/O/A</td><td>PA1</td><td>USART2_RTS/ADC_IN1/ TIM2_CH2</td><td></td></tr><tr><td>12</td><td>16</td><td>PA2</td><td>I/O/A</td><td>PA2</td><td>USART2_TX/ADC_IN2/TIM2_CH3</td><td></td></tr><tr><td>13</td><td>17</td><td>PA3</td><td>I/O/A</td><td>PA3</td><td>USART2_RX/ADC_IN3/TIM2_CH4</td><td></td></tr><tr><td></td><td>18</td><td>Vss_4</td><td>P</td><td>Vss_4</td><td></td><td></td></tr><tr><td></td><td>19</td><td>VDD_4</td><td>P</td><td>VDD_4</td><td></td><td></td></tr><tr><td>14</td><td>20</td><td>PA4</td><td>I/O/A </td><td>PA4</td><td>SP11_NSS/USART2_CK/ADC_IN4 </td><td></td></tr><tr><td>15</td><td>21</td><td>PA5</td><td>I/O/A</td><td>PA5</td><td>SP11_SCK/ADC_IN5</td><td></td></tr><tr><td>16</td><td>22</td><td>PA6</td><td>I/O/A</td><td>PA6</td><td>SPI1_MIS0/ADC_IN6/TIM3_CH1</td><td>TIM1_BKIN_1</td></tr><tr><td>17</td><td>23</td><td>PA7</td><td>I/O/A</td><td>PA7</td><td>SP11_MOSI/ADC_IN7/TIM3_CH2</td><td>TIM1_CH1N_1</td></tr><tr><td></td><td>24</td><td>PC4</td><td>I/O/A</td><td>PC4</td><td>ADC_1N14</td><td></td></tr><tr><td></td><td>25</td><td>PC5</td><td>I/O/A</td><td>PC5</td><td>ADC_IN15</td><td></td></tr><tr><td>18</td><td>26</td><td>PB0</td><td>I/O/A</td><td>PB0</td><td>ADC_IN8/TIM3_CH3</td><td>TIM1_CH2N_1</td></tr><tr><td>19</td><td>27</td><td>PB1</td><td>I/O/A</td><td>PB1</td><td>ADC_IN9/TIM3_CH4</td><td>TIM1_CH3N_1</td></tr><tr><td>20</td><td>28</td><td>PB2</td><td>I/O</td><td>PB2/BOOT1</td><td></td><td></td></tr><tr><td>21</td><td>29</td><td>PB10</td><td>I/O</td><td>PB10</td><td></td><td>TIM2_CH3_1</td></tr><tr><td>22</td><td>30</td><td>PB11</td><td>I/O</td><td>PB11</td><td></td><td>TIM2_CH4_1</td></tr><tr><td>23</td><td>31</td><td>VSS_1</td><td>P</td><td>VSS_1</td><td></td><td></td></tr><tr><td>24</td><td>32</td><td>VDD_1</td><td>P</td><td>VDD_1</td><td></td><td></td></tr><tr><td>25</td><td>33</td><td>PB12</td><td>I/O</td><td>PB12</td><td>TIM1_BKIN</td><td></td></tr><tr><td>26</td><td>34</td><td>PB13</td><td>I/O</td><td>PB13</td><td>TIM1_CH1N</td><td></td></tr><tr><td>27</td><td>35</td><td>PB14</td><td>I/O</td><td>PB14</td><td>TIM1_CH2N</td><td></td></tr><tr><td>28</td><td>36</td><td>PB15</td><td>I/O</td><td>PB15</td><td>TIM1_CH3N</td><td></td></tr><tr><td></td><td>37</td><td>PC6</td><td>I/O</td><td>PC6</td><td></td><td>TIM3_CH1_1</td></tr><tr><td></td><td>38</td><td>PC7</td><td>I/O</td><td>PC7</td><td></td><td>TIM3_CH2_1</td></tr><tr><td></td><td>39</td><td>PC8</td><td>I/O</td><td>PC8</td><td></td><td>TIM3_CH3_1</td></tr><tr><td></td><td>40</td><td>PC9</td><td>I/O</td><td>PC9</td><td></td><td>TIM3_CH4_1</td></tr><tr><td>29</td><td>41</td><td>PA8</td><td>I/O</td><td>PA8</td><td>USART1_CK/TIM1_CH1/MCO</td><td></td></tr><tr><td>30</td><td>42</td><td>PA9</td><td>I/O</td><td>PA9</td><td>USART1_TX/TIM1_CH2</td><td></td></tr><tr><td>31</td><td>43</td><td>PA10</td><td>I/O</td><td>PA10</td><td>USART1_RX/TIM1_CH3</td><td></td></tr><tr><td>32</td><td>44</td><td>PA11</td><td>I/O/A</td><td>PA11</td><td>USART1_CTS/USBHDM/TIM1_CH4</td><td></td></tr><tr><td>33</td><td>45</td><td>PA12</td><td>I/O/A</td><td>PA12</td><td>USART1_RTS/USBHDP/TIM1_ETR</td><td></td></tr><tr><td>34</td><td>46</td><td>PA13</td><td>I/O</td><td>SWDIO</td><td></td><td>PA13</td></tr><tr><td>35</td><td>47</td><td>Vss_2</td><td>P</td><td>Vss_2</td><td></td><td></td></tr><tr><td>36</td><td>48</td><td>VDD_2</td><td>P</td><td>VDD_2</td><td></td><td></td></tr><tr><td>37</td><td>49</td><td>PA14</td><td>I/O</td><td>SWCLK</td><td></td><td>PA14 </td></tr><tr><td>38</td><td>50</td><td>PA15</td><td>I/O</td><td>PA15</td><td></td><td>TIM2_CH1_1/TIM2_ETR_1/SPI1_NSS_1</td></tr><tr><td></td><td>51</td><td>PC10</td><td>I/O</td><td>PC10</td><td></td><td></td></tr><tr><td></td><td>52</td><td>PC11</td><td>I/O</td><td>PC11</td><td></td><td></td></tr><tr><td></td><td>53</td><td>PC12</td><td>I/O</td><td>PC12</td><td></td><td></td></tr><tr><td></td><td>54</td><td>PD2</td><td>I/O</td><td>PD2</td><td>TIM3_ETR</td><td></td></tr><tr><td>39</td><td>55</td><td>PB3</td><td>I/O</td><td>PB3</td><td></td><td>TIM2_CH2_1/SPI1_SCK_1</td></tr><tr><td>40</td><td>56</td><td>PB4</td><td>I/O</td><td>PB4</td><td></td><td>TIM3_CH1_1/SPI1_MIS0_1</td></tr><tr><td>41</td><td>57</td><td>PB5</td><td>I/O</td><td>PB5</td><td>12C1_SMBAI</td><td>TIM3_CH2_1/SPI1_MOSI_1</td></tr><tr><td>42</td><td>58</td><td>PB6</td><td>I/O/A</td><td>PB6</td><td>12C1_SCL</td><td>USART1_TX_1</td></tr><tr><td>43</td><td>59</td><td>PB7</td><td>I/O/A</td><td>PB7</td><td>I2C1_SDA</td><td>USART1_RX_1</td></tr><tr><td>44</td><td>60</td><td>BOOT0</td><td>I</td><td>BOOT0</td><td></td><td></td></tr><tr><td>45</td><td>61</td><td>PB8</td><td>I/O/A</td><td>PB8</td><td></td><td>I2C1_SCL_1</td></tr><tr><td>46</td><td>62</td><td>PB9</td><td>I/O/A</td><td>PB9</td><td></td><td>I2C1_SDA_1</td></tr><tr><td>47</td><td>63</td><td>Vss_3</td><td>P</td><td>Vss_3</td><td></td><td></td></tr><tr><td>48</td><td>64</td><td>VDD_3</td><td>P</td><td>VDD_3</td><td></td><td></td></tr></table></body></html>  

注1：表格缩写解释：  

I=TTL/CMOS 电平斯密特输入； O=CMOS电平三态输出；A=模拟信号输入或输出；P=电源。  

注2：重映射功能下划线后的数值表示 AFIO 寄存器中相对应位的配置值。例如：TIM1_BKIN_1表示AFIO寄存器相应位配置为01b  

注3：当备份区域由 $V_{D D}$ （内部模拟开关连到 $V_{D D.}$ ）供电时：PC14和PC15可用于GPI0或LSE引I脚、PC13可作为通用I/O口、TAMPER引脚、RTC校准时钟、RTC闹钟或秒输出；作为输出脚时只能工作在2MHz模式下，最大驱动负载为 $30p F$ ：当后备区域由 $V_{B A T}$ $\boldsymbol{V_{D D}}$ 消失后模拟开关连到BAT）：PC14和PC15只能用于LSE引I脚、PC13可作为TAMPER引引脚、RTC闹钟或秒输出。  

注4：对于CH32V103芯片，引脚5和引脚6在芯片复位后默认配置为OSC_IN和OSC_OUT功能脚。软件可以重新设置这两个引脚为PD0和PD1功能。更多详细信息请参考CH32xRM手册的复用功能I/O章节和调试设置章节。  

注5：对于CH32V103R8T6芯片，引脚46和引脚49在芯片复位后默认配置为SWD10和SWCLK功能脚。软件可以重新设置这两个引I脚为PA13和PA14功能；对于CH32V103C6T6、CH32V103C8T6和CH32V103C8U6芯片，引脚34和引I脚37在芯片复位后默认配置为SWD10和SWCLK功能脚。软件可以重新设置这两个引脚为PA13和PA14功能。更多详细信息请参考 $C H32x R M$ 手册的复用功能I/O章节和调试设置章节。  

## 2.3引脚复用功能  

注意，下表中的引脚功能描述针对的是所有功能，不涉及具体型号产品。不同型号之间外设资源有差异，查看前请先根据产品型号资源表确认是否有此功能。  

表 2-3引脚复用和重映射功能  


<html><body><table><tr><td>复用 引脚</td><td>ADC</td><td>TIM1</td><td>TIM2/3/4</td><td>USART</td><td>SYS</td><td>12C</td><td>SPI</td><td>USB</td></tr><tr><td>PAO</td><td>ADC_INO</td><td></td><td>TIM2_CH1 TIM2_ETR</td><td>USART2_CTS</td><td>WKUP</td><td></td><td></td><td></td></tr><tr><td>PA1</td><td>ADC_IN1</td><td></td><td>TIM2_CH2</td><td>USART2_RTS</td><td></td><td></td><td></td><td></td></tr><tr><td>PA2</td><td>ADC_IN2</td><td></td><td>TIM2_CH3</td><td>USART2_TX</td><td></td><td></td><td></td><td></td></tr><tr><td>PA3</td><td>ADC_IN3</td><td></td><td>TIM2_CH4</td><td>USART2_RX</td><td></td><td></td><td></td><td></td></tr><tr><td>PA4</td><td>ADC_IN4</td><td></td><td></td><td>USART2_CK</td><td></td><td></td><td>SPI1_NSS</td><td></td></tr><tr><td>PA5</td><td>ADC_IN5</td><td></td><td></td><td></td><td></td><td></td><td>SP11_SCK</td><td></td></tr><tr><td>PA6</td><td>ADC_IN6</td><td>TIM1_BKIN_1</td><td>TIM3_CH1</td><td></td><td></td><td></td><td>SPI1_MISO</td><td></td></tr><tr><td>PA7</td><td>ADC_IN7</td><td>TIM1_CH1N_1</td><td>TIM3_CH2</td><td></td><td></td><td></td><td>SPI1_MOSI</td><td></td></tr><tr><td>PA8</td><td></td><td>TIM1_CH1</td><td></td><td>USART1_CK</td><td>MCO</td><td></td><td></td><td></td></tr><tr><td>PA9</td><td></td><td>TIM1_CH2</td><td></td><td>USART1_TX</td><td></td><td></td><td></td><td></td></tr><tr><td>PA10</td><td></td><td>TIM1_CH3</td><td></td><td>USART1_RX</td><td></td><td></td><td></td><td></td></tr><tr><td>PA11</td><td></td><td>TIM1_CH4</td><td></td><td>USART1_CTS</td><td></td><td></td><td></td><td>USBHDM</td></tr><tr><td>PA12</td><td></td><td>TIM1_ETR</td><td></td><td>USART1_RTS</td><td></td><td></td><td></td><td>USBHDP</td></tr><tr><td>PA13</td><td></td><td></td><td></td><td></td><td>SWD10</td><td></td><td></td><td></td></tr><tr><td>PA14</td><td></td><td></td><td></td><td></td><td>SWCLK</td><td></td><td></td><td></td></tr><tr><td>PA15</td><td></td><td></td><td>TIM2_CH1_1 TIM2_ETR_1</td><td></td><td></td><td></td><td>SPI1_NSS_1</td><td></td></tr><tr><td>PB0</td><td>ADC_IN8</td><td>TIM1_CH2N_1</td><td>TIM3_CH3</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PB1</td><td>ADC_IN9</td><td>TIM1_CH3N_1</td><td>TIM3_CH4</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PB2</td><td></td><td></td><td></td><td></td><td>B00T1</td><td></td><td></td><td></td></tr><tr><td>PB3</td><td></td><td></td><td>TIM2_CH2_1</td><td></td><td></td><td></td><td>SPI1_SCK_1</td><td></td></tr><tr><td>PB4</td><td></td><td></td><td>TIM3_CH1_1</td><td></td><td></td><td></td><td>SPI1_MISO_1</td><td></td></tr><tr><td>PB5</td><td></td><td></td><td>TIM3_CH2_1</td><td></td><td></td><td>|2C1_SMBAISPI1_MOSI_1</td><td></td><td></td></tr><tr><td>PB6</td><td></td><td></td><td>TIM4_CH1</td><td>USART1_TX_1</td><td></td><td>12C1_SCL</td><td></td><td></td></tr><tr><td>PB7</td><td></td><td></td><td>TIM4_CH2</td><td>USART1_RX_1</td><td></td><td>12C1_SDA</td><td></td><td></td></tr><tr><td>PB8</td><td></td><td></td><td>TIM4_CH3</td><td></td><td></td><td>12C1_SCL_1</td><td></td><td></td></tr><tr><td>PB9</td><td></td><td></td><td>TIM4_CH4</td><td></td><td></td><td>I2C1_SDA_1</td><td></td><td></td></tr><tr><td>PB10</td><td></td><td></td><td>TIM2_CH3_1</td><td>USART3_TX</td><td></td><td>12C2_SCL</td><td></td><td></td></tr><tr><td>PB11</td><td></td><td></td><td>TIM2_CH4_1</td><td>USART3_RX</td><td></td><td>12C2_SDA</td><td></td><td></td></tr><tr><td>PB12</td><td></td><td>TIM1_BKIN</td><td></td><td>USART3_CK</td><td></td><td>12C2_SMBAI</td><td>SP12_NSS</td><td></td></tr><tr><td>PB13</td><td></td><td>TIM1_CH1N</td><td></td><td>USART3_CTS</td><td></td><td></td><td>SP12_SCK</td><td></td></tr><tr><td>PB14</td><td></td><td>T IM1_CH2N</td><td></td><td>USART3_RTS</td><td></td><td></td><td>SP12_MISO</td><td></td></tr><tr><td>PB15</td><td></td><td>TIM1_CH3N</td><td></td><td></td><td></td><td></td><td>SP12_MOSI</td><td></td></tr><tr><td>PC0</td><td>ADC_IN10</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PC1</td><td>ADC_IN11</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PC2</td><td>ADC_IN12</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PC3</td><td>ADC_IN13</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PC4</td><td>ADC_IN14</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PC5</td><td>ADC_IN15</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PC6</td><td></td><td></td><td>TIM3_CH1_1</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PC7</td><td></td><td></td><td>TIM3_CH2_1</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PC8</td><td></td><td></td><td>TIM3_CH3_1</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PC9</td><td></td><td></td><td>TIM3_CH4_1</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>PC10</td><td></td><td></td><td></td><td>USART3_TX_1</td><td></td><td></td><td></td><td></td></tr><tr><td>PC11</td><td></td><td></td><td></td><td>USART3_RX_1</td><td></td><td></td><td></td><td></td></tr><tr><td>PC12</td><td></td><td></td><td></td><td>USART3_CK_1</td><td></td><td></td><td></td><td></td></tr><tr><td>PC13</td><td></td><td></td><td></td><td></td><td>TAMPER-RTC</td><td></td><td></td><td></td></tr><tr><td>PC14</td><td></td><td></td><td></td><td></td><td>OSC32_IN</td><td></td><td></td><td></td></tr><tr><td>PC15</td><td></td><td></td><td></td><td></td><td>OSC32_OUT</td><td></td><td></td><td></td></tr><tr><td>PDO</td><td></td><td></td><td></td><td></td><td>OSC_IN</td><td></td><td></td><td></td></tr><tr><td>PD1</td><td></td><td></td><td></td><td></td><td>OSC_OUT</td><td></td><td></td><td></td></tr><tr><td>PD2</td><td></td><td></td><td>TIM3_ETR</td><td></td><td></td><td></td><td></td><td></td></tr></table></body></html>  

## 第3章电气特性  

### 3.1 测试条件  

除非特殊说明和标注，所有电压都以 V<sub>ss</sub> 为基准。  

所有最小值和最大值将在最坏的环境温度、供电电压和时钟频率条件下得到保证。典型数值是基于常温 $^{25^{\circ}C}$ 和 $\mathsf{V}_{\mathsf{D}\mathsf{D}}=3.3\mathsf{V}$ 环境下用于设计指导。  

对于通过综合评估、设计模拟或工艺特性得到的数据，不会在生产线进行测试。在综合评估的基础上，最小和最大值是通过样本测试后统计得到。除非特殊说明为实测值，否则特性参数以综合评估或设计保证。  

供电方案：  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/0f3a827651effcbc88f5c0f268348cf7e263ee39b64b02fceafe9e3e57c514e6.jpg)  
图 3-1常规供电典型电路  

### 3.2绝对最大值  

临界或者超过绝对最大值将可能导致芯片工作不正常甚至损坏。  

表 $_{3-1}$ 绝对最大值参数表  


<html><body><table><tr><td>符号</td><td>描述</td><td>最小值</td><td>最大值</td><td>单位</td></tr><tr><td>Ta (1)</td><td>工作时的环境温度</td><td>-40</td><td>85</td><td>℃</td></tr><tr><td>Ts</td><td>存储时的环境温度</td><td>-40</td><td>105</td><td>℃</td></tr><tr><td>Vob-Vs 1)</td><td>外部主供电电压（包含VobA和Vop）</td><td>-0. 3</td><td>5.5</td><td>V</td></tr><tr><td>VIN (1)</td><td>引脚上的输入电压</td><td>Vss-0. 3</td><td>5.5</td><td>V</td></tr><tr><td>[△VoDx I (1)</td><td>不同供电引脚之间的电压差</td><td></td><td>50</td><td>mV</td></tr><tr><td>IVssx-VssI (1)</td><td>不同接地引脚之间的电压差</td><td></td><td>50</td><td>mV</td></tr><tr><td>VesD HBM) (1)</td><td>ESD静电放电电压（人体模型，非接触式）</td><td>4000</td><td></td><td>V</td></tr><tr><td>IvD (2)</td><td>经过Voo/VobA电源线的总电流（供应电流）</td><td></td><td>50</td><td rowspan="4"></td></tr><tr><td>Ivs (2)</td><td>经过Vss地线的总电流（流出电流）</td><td></td><td>50</td></tr><tr><td rowspan="2">I10。 (1)</td><td>任意I/O和控制引脚上的吸入电流</td><td></td><td>mA -25</td></tr><tr><td>任意I/O和控制引脚上的输出电流</td><td></td><td>25</td></tr></table></body></html>

注：1.设计参数。2.正常工作能达到最大电流值。  

### 3.3电气参数  

#### 3.3.1工作条件  

表3-2通用工作条件  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>最大值</td><td>单位</td></tr><tr><td>FsYSCLK</td><td>内部系统时钟频率</td><td></td><td></td><td>80</td><td>MHz</td></tr><tr><td>FHCLK</td><td>内部AHB域总线时钟频率</td><td></td><td></td><td>80</td><td>MHz</td></tr><tr><td>FpCLK1</td><td>内部APB1域总线时钟频率</td><td></td><td></td><td>80</td><td>MHz</td></tr><tr><td>FpCLK2</td><td>内部APB2域总线时钟频率</td><td></td><td></td><td>80</td><td>MHz</td></tr><tr><td>VDD</td><td>标准工作电压</td><td></td><td>2.7</td><td>5.5</td><td>V</td></tr><tr><td rowspan="2">VDDA</td><td rowspan="2">模拟部分工作电压（未使用ADC） 模拟部分工作电压（使用ADC）</td><td rowspan="2">必须与V<sub>DD</sub>相同</td><td>2.7</td><td rowspan="2">5.5</td><td rowspan="2">V</td></tr><tr><td>3.0</td></tr><tr><td>VBAT (2)</td><td>备份单元工作电压</td><td>不能大于V<sub>DD<sub></td><td>1.8</td><td>5.5</td><td>V</td></tr><tr><td>TA (1)</td><td>环境温度</td><td></td><td>-40</td><td>85</td><td>℃</td></tr></table></body></html>

注：1.设计参数。2.电池到VBAT连线要尽可能的短。  

表3-3上电和掉电条件  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>最大值</td><td>单位</td></tr><tr><td rowspan="2">t<sub>VDD</sub></td><td>V<sub>DD</sub>上升速率</td><td></td><td>0</td><td>8</td><td rowspan="2">us/v</td></tr><tr><td>V<sub></sub>下降速率</td><td></td><td>30</td><td>8</td></tr></table></body></html>

注：电池到VBAT连线要尽可能的短。  

#### 3.3.2内置复位和电源控制模块特性  

表3-4复位及电压监测（PDR选择高阈值档位）  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td rowspan="10">Vvo (2)</td><td></td><td>PLS[2:0]=000(上升沿)</td><td></td><td>2.65</td><td></td><td>V</td></tr><tr><td></td><td>PLS[2:0]=000(下降沿)</td><td></td><td>2.5</td><td></td><td>V</td></tr><tr><td>PLS[2:0]=001(上升沿)</td><td></td><td></td><td>2. 87</td><td></td><td>V</td></tr><tr><td></td><td>PLS[2:0]=001(下降沿)</td><td></td><td>2.7</td><td></td><td>V</td></tr><tr><td></td><td>PLS[2:0]=010(上升沿)</td><td></td><td>3. 07</td><td></td><td>V</td></tr><tr><td>可编程电压检测器的</td><td>PLS[2:0]=010(下降沿)</td><td></td><td>2.89</td><td></td><td>V</td></tr><tr><td></td><td>PLS[2:0]=011(上升沿)</td><td></td><td>3.27</td><td></td><td>V</td></tr><tr><td>PLS[2:0]=011(下降沿)</td><td></td><td></td><td>3. 08</td><td></td><td>V</td></tr><tr><td>PLS[2:0]=100(上升沿)</td><td></td><td></td><td>3. 46</td><td></td><td>V</td></tr><tr><td>PLS[2:0]=100(下降沿)</td><td></td><td></td><td>3. 27</td><td></td><td>V</td></tr><tr><td></td><td>PLS[2:0]=101(上升沿)</td><td></td><td></td><td>3. 76</td><td>V</td></tr><tr><td></td><td>PLS[2:0]=101(下降沿)</td><td></td><td></td><td>3.55</td><td>V</td></tr><tr><td></td><td>PLS[2:0]=110(上升沿)</td><td></td><td>4. 07</td><td></td><td>V</td></tr><tr><td></td><td>PLS[2:0]=110(下降沿)</td><td></td><td>3. 84</td><td></td><td>V</td></tr><tr><td></td><td>PLS[2:0]= 111(上升沿)</td><td></td><td>4. 43</td><td></td><td>V</td></tr><tr><td>(1)</td><td>PLS[2:0]=111(下降沿)</td><td></td><td></td><td>4. 18</td><td>V</td></tr><tr><td colspan="2">VpvDhyst PVD迟滞 VPOR/PDR (1) 上电/掉电复位阀值</td><td></td><td></td><td>0.2</td><td></td><td>V</td></tr><tr><td colspan="2"></td><td>上升沿</td><td></td><td>2.5</td><td></td><td>V</td></tr></table></body></html>  

<html><body><table><tr><td></td><td></td><td>下降沿</td><td></td><td>2. 42</td><td></td><td>V</td></tr><tr><td>VpDRhyst (1)</td><td>PDR迟滞</td><td></td><td>40</td><td></td><td>110</td><td>mV</td></tr><tr><td>七RSTTEMPO (1)</td><td>复位持续时间</td><td></td><td>16</td><td></td><td>44</td><td>mS</td></tr></table></body></html>

注：1.设计参数2.常温测试值。  

### 3.3.3内置的参考电压  

表3-5内置参考电压   


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>最大值</td><td>单位</td></tr><tr><td>V REF INT</td><td>内置参考电压</td><td>T = -40°℃~85°℃</td><td>1. 12</td><td>1.28</td><td>V</td></tr><tr><td>Ts_vrefint</td><td>当读出内部参考电压时， ADC的采样时间</td><td>建议慢速采样</td><td>0.107</td><td>17. 1</td><td>1/fADC</td></tr></table></body></html>  

### 3.3.4供电电流特性  

电流消耗是多种参数和因素的综合指标，这些参数和因素包括工作电压、环境温度、I/O引脚的负载、产品的软件配置、工作频率、I/O脚的翻转速率、程序在存储器中的位置以及执行的代码等。电流消耗测量方法如下图：  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/cc383df45cc7df23a127521396e25bf5bb88a7ff65965c8c328fe59d16fd5f4a.jpg)  
图 3-2电流消耗测量  

微控制器处于下列条件：  

常温 $\mathsf{V}_{\mathsf{D}\mathsf{D}}=3.3\mathsf{V}$ 情况下，测试时：所有10 端口配置上拉输入，使能或关闭所有外设时钟（不包括GPI0外设)，没有初始化外设功能。  

表 $_{3-6}$ 运行模式下典型的电流消耗，数据处理代码从内部闪存中运行  


<html><body><table><tr><td rowspan="2">符号</td><td rowspan="2">参数</td><td colspan="2" rowspan="2">条件</td><td colspan="2">典型值</td><td rowspan="2">单位</td></tr><tr><td>使能所有外设</td><td>关闭所有外设</td></tr><tr><td rowspan="7">IDD (1) (2)</td><td rowspan="7">运行模式下 的供应电流</td><td rowspan="7">外部时钟</td><td>FsyscLk = 72MHz</td><td>13.56</td><td>8.88</td><td rowspan="7">mA</td></tr><tr><td>FsyscLk = 48MHz</td><td>9.76</td><td>6. 64</td></tr><tr><td>FsyscLk = 36MHz</td><td>8.51</td><td>5.85</td></tr><tr><td>FsYscLk = 24MHz</td><td>6.38</td><td>4.62</td></tr><tr><td>FsyscLk = 16MHz</td><td>5. 11</td><td>3.88</td></tr><tr><td>FsrscLk = 8MHz</td><td>3.15</td><td>2. 61</td></tr><tr><td>FsyscLk = 4MHz</td><td>2.50</td><td>2. 26</td></tr><tr><td></td><td></td><td>FsyscLk = 500KHz</td><td>1.99</td><td>1.96</td></tr></table></body></html>  

<html><body><table><tr><td rowspan="7"></td><td rowspan="7">运行于高速内部 RC振荡器 使用AHB 以减低频率</td><td rowspan="7">(HSI), 预分频</td><td>FsyscLk = 64MHz</td><td>12.63</td><td>7.63</td></tr><tr><td>FsyscLk = 48MHz</td><td>9.92</td><td>6. 17</td></tr><tr><td>FsyscLk = 36MHz</td><td>7.90</td><td>5.08</td></tr><tr><td>FsYSCLK =24MHz</td><td>5.75</td><td>3.98</td></tr><tr><td>FsYSCLK k=16MHz</td><td>4.57</td><td>3.31</td></tr><tr><td>FsYSCLK k= 8MHz</td><td>2. 82</td><td>2.23</td></tr><tr><td>FsYscLk = 4MHz FsyscLk = 500KHz</td><td>2.19 1. 61</td><td>1.88 1.58</td></tr></table></body></html>

注：1.以上为实测参数；2.当 $V_{D D}<3V$ 时，电流功耗会增大。  

表3-7睡眠模式下典型的电流消耗，数据处理代码从内部闪存或SRAM中运行  


<html><body><table><tr><td rowspan="2">符号</td><td rowspan="2">参数</td><td colspan="2" rowspan="2">条件</td><td colspan="2">典型值</td><td rowspan="2">单位</td></tr><tr><td>使能所有外设</td><td>关闭所有外设</td></tr><tr><td rowspan="17"></td><td rowspan="7">睡眠模式下 的供应电流 （此时外设 供电和时钟 保持)</td><td rowspan="7">外部时钟</td><td>FsyscLk = 72MHz</td><td>10.98</td><td>5.33</td><td rowspan="9"></td></tr><tr><td>FsrscLk = 48MHz</td><td>8.05</td><td>4. 27</td></tr><tr><td>FsyscLk = 36MHz</td><td>6.87</td><td>4.06</td></tr><tr><td>FsYsCLk = 24MHz</td><td>5. 30</td><td>3.42</td></tr><tr><td>FsyscLk = 16MHz</td><td>4.34</td><td>3.08</td></tr><tr><td>FsySCLK 二 8MHz</td><td>2.83</td><td>2. 21</td></tr><tr><td>FsYSCLK 二 4MHz</td><td>2.37</td><td>2.06</td></tr><tr><td rowspan="8">运行于高速内部 RC振荡器（HSI）， 使用AHB预分频 以减低频率</td><td>FsyscLk = 500KHz FsYSCLK = 64MHz</td><td>1.97 9.71</td><td>1.93</td><td rowspan="8">mA</td></tr><tr><td>FsYSCLk = 4 48MHz</td><td>7.73</td><td>4.69</td></tr><tr><td>FsYSCLK 二 36MHz</td><td>6. 24</td><td>3. 96</td></tr><tr><td>FsrscLk = 24MHz</td><td>4.76</td><td>3. 41</td></tr><tr><td></td><td></td><td>2.87</td></tr><tr><td>FsyscLk = 16MHz</td><td>3.83</td><td>2.57</td></tr><tr><td>FsYSCLK = 8MHz</td><td>2. 47</td><td>1.84</td></tr><tr><td>FsyYsCLK 二 4MHz</td><td>2.00 1.59</td><td>1.68 1.55</td></tr></table></body></html>

注：1.以上为实测参数；2.当 $V_{D D}<3V$ 时，电流功耗会增大。  

表3-8停止和待机模式下典型的电流消耗  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>典型值</td><td>单位</td></tr><tr><td rowspan="2">IDD</td><td rowspan="2">停止模式下的供应电流</td><td>调压器处于运行模式，低速和高速 内部RC振荡器及外部振荡器都处 于关闭状态（没有独立看门狗）</td><td>455</td><td rowspan="2">uA</td></tr><tr><td>调压器处于低功耗模式，低速和高 速内部RC振荡器及外部振荡器都 处于关闭状态（没有独立看门狗）</td><td>1.6</td></tr></table></body></html>  

<html><body><table><tr><td rowspan="2"></td><td rowspan="2">待机模式下的供应电流</td><td>低速内部RC振荡器和独立看门狗 处于开启状态</td><td>2.8</td></tr><tr><td>低速内部RC振荡器处于开启状态， 独立看门狗处于关闭状态 低速内部RC振荡器和独立看门狗</td><td>2.7</td></tr><tr><td>I DD_VBAT</td><td>备份区域的供应电流 （移除VoD和VoDA，只使用VBAT 供电)</td><td>RTC关闭状态 低速外部振荡器和RTC处于开启状 态</td><td>2.4</td></tr></table></body></html>

注：以上为实测参数  

### 3.3.5外部时钟源特性  

表3-9来自外部高速时钟  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>FHSE_ext</td><td>外部时钟频率</td><td></td><td></td><td>8</td><td>25</td><td>MHz</td></tr><tr><td>VHSEH (1)</td><td>OSC_IN输入引脚高电平电压</td><td></td><td>0. 8VbD</td><td></td><td>VDD</td><td>V</td></tr><tr><td>VHSEL (1)</td><td>OSC_IN输入引脚低电平电压</td><td></td><td>0</td><td></td><td>0. 2VbD</td><td>V</td></tr><tr><td>Cin(HSE)</td><td>OSC_IN输入电容</td><td></td><td></td><td>5</td><td></td><td>pF</td></tr><tr><td>DuCy (HSE)</td><td>占空比</td><td></td><td></td><td>50</td><td></td><td>%</td></tr></table></body></html>

注：1.不满足此条件可能会引起电平识别错误  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/7336164c1a5240a386ae47f7f99fed08d6de2e571cddf8d211a011c7d18d992b.jpg)  
图3-3外部提供高频时钟源电路  

表3-10来自外部低速时钟   


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>FLSE_ext</td><td>用户外部时钟频率</td><td></td><td></td><td>32.768</td><td>1000</td><td>KHz</td></tr><tr><td>VLSEH</td><td>OSC32_IN输入引脚高电平电压</td><td></td><td>0. 8VoD</td><td></td><td>VDD</td><td>V</td></tr><tr><td>VLSEL</td><td>OSC32_IN输入引|脚低电平电压</td><td></td><td>0</td><td></td><td>0. 2VoD</td><td>V</td></tr><tr><td>Cin(LSE)</td><td>OSC32_IN输入电容</td><td></td><td></td><td>5</td><td></td><td>pF</td></tr><tr><td>DuCy (LsE)</td><td>占空比</td><td></td><td></td><td>50</td><td></td><td>%</td></tr></table></body></html>  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/1bfbc0a6a745429db03585a45f9824d047166d1aeb3f1b9e6a0c0cf18317c82c.jpg)  
图3-4外部提供低频时钟源电路  

表3-11使用一个晶体/陶瓷谐振器产生的高速外部时钟  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>Fosc_IN</td><td>谐振器频率</td><td></td><td>4</td><td>8</td><td>16</td><td>MHz</td></tr><tr><td>1(1)</td><td>HSE驱动电流</td><td>Vob= 3.3V，20p 负载</td><td></td><td>0. 2</td><td></td><td>mA</td></tr><tr><td>gm (1)</td><td>振荡器的跨导</td><td>启动</td><td></td><td>4.6</td><td></td><td>mA/V</td></tr><tr><td>七sU(HSE)</td><td>启动时间</td><td>VoD是稳定的</td><td></td><td>1</td><td>2</td><td>ms</td></tr></table></body></html>

注：1.设计参数  

# 电路参考设计及要求：  

晶体的负载电容一般选用 $20\mathsf{p F}$ $\mathtt{C}_{\mathtt{L}_{1}}{=}\mathtt{C}_{\lfloor2\rfloor}$ ，建议 $5\sim25\mathsf{p F})$ ，实际请参考所使用晶体的厂家数据手册  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/e3b26d3d1d4aa34270b04365cff658ef91115eb0b5800af36cd2843caf620f46.jpg)  
图3-5外接8M晶体典型电路  

表3-12使用一个晶体/陶瓷谐振器产生的低速外部时钟（ $:f(\tt s e)=32.7686\tt(H z)$   


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>1(1)</td><td>LSE驱动电流</td><td>VoD = 3.3V</td><td></td><td>0.5</td><td></td><td>yn</td></tr><tr><td>(1) gm</td><td>振荡器的跨导</td><td>启动</td><td></td><td>13.5</td><td></td><td>uA/V</td></tr><tr><td>七su(LSE)</td><td>启动时间</td><td>VoD是稳定的</td><td></td><td>200</td><td>500</td><td>mS</td></tr></table></body></html>

注：1.设计参数。  

电路参考设计及要求：  

晶体的负载电容一般选用不超过15pF（ $\mathtt{C}_{11}{=}\mathtt{C}_{12}$ ，建议 $5{\sim}15{\mathsf{p F}})$ ，实际请参考所使用晶体的厂家数据手册。  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/9ba5f2ba1dba771be472b37bbb7f1b12542c551db615ca9562827f2b54958e6d.jpg)  
图3-6外接32.768K晶体典型电路  

注：负载电容 $\mathcal{C}_{L}$ 由 $\tau$ 式计算： $G_{L}=G_{L1}\times G_{L2}\times(G_{L1}+G_{L2})+G_{s t r a y}$ ，其中 $\hat{U}_{s t r a y}$ 是引脚的电容和PCB板或PCB相关的电容，它的典型值是介于 $2p F$ 至 $7p F$ 之间。  

### 3.3.6内部时钟源特性  

表3-13内部高速(HSI)RC振荡器特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>FHSI</td><td>频率</td><td></td><td></td><td>8</td><td></td><td>MHz</td></tr><tr><td>DuCyHsI</td><td>占空比</td><td></td><td>45</td><td>50</td><td>55</td><td>%</td></tr><tr><td rowspan="2">ACCHSI</td><td rowspan="2">HSI振荡器的精度</td><td>T = 0°℃~70°℃</td><td>-1.8</td><td></td><td>1.8</td><td>%</td></tr><tr><td>T = -40°C~85°C</td><td>-2.5</td><td></td><td>2.5</td><td>%</td></tr><tr><td>七sU(HSI)</td><td>HSI振荡器启动时间</td><td></td><td></td><td></td><td>8</td><td>sn</td></tr></table></body></html>  

<html><body><table><tr><td>I DD (HS1)</td><td>HSI振荡器功耗</td><td></td><td></td><td>200</td><td></td><td>uA</td></tr></table></body></html>  

表3-14内部低速(LSI)RC振荡器特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>FLsI</td><td>频率</td><td></td><td>25</td><td>36</td><td>60</td><td>KHz</td></tr><tr><td>DuCyLsI</td><td>占空比</td><td></td><td>45</td><td>50</td><td>55</td><td>%</td></tr><tr><td>tsu(LS1)</td><td>LSI振荡器启动时间</td><td></td><td></td><td></td><td>82</td><td>sn</td></tr><tr><td>I DD(LSI) (1)</td><td>LSI振荡器功耗</td><td></td><td></td><td>0.6</td><td></td><td>yn</td></tr></table></body></html>

注：1.设计参数  

### 3.3.7 PLL 特性  

表 3-15 PLL 特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大 值</td><td>单位</td></tr><tr><td rowspan="2">F PLL_IN</td><td>PLL输入时钟</td><td></td><td>4</td><td>8</td><td>16</td><td>MHz</td></tr><tr><td>PLL输入时钟占空比</td><td></td><td>40</td><td></td><td>60</td><td>%</td></tr><tr><td>F PLL_OUT</td><td>PLL倍频输出时钟</td><td></td><td></td><td></td><td>80</td><td>MHz</td></tr><tr><td>tLOCK (1)</td><td>PLL锁定时间</td><td></td><td></td><td></td><td>1000</td><td>1 /FpPLL_IN</td></tr></table></body></html>

注：1.设计参数  

### 3.3.8从低功耗模式唤醒的时间  

表3-16低功耗模式唤醒的时间  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>典型值</td><td>单位</td></tr><tr><td>七wusleep</td><td>从睡眠模式唤醒</td><td>使用HSIRC时钟唤醒</td><td>5.8</td><td>sn</td></tr><tr><td rowspan="2">twustop</td><td>从停止模式唤醒（调压器处于运行模式）</td><td>HSIRC时钟唤醒</td><td>253</td><td>us</td></tr><tr><td>从停止模式唤醒（调压器为低功耗模式）</td><td>调压器从低功耗模式唤醒时间+ HSIRC时钟唤醒+</td><td>253</td><td>sn</td></tr><tr><td>七wUSTDBY</td><td>从待机模式唤醒</td><td>flash启动 调压器从低功耗模式唤醒时间+ HSIRC时钟唤醒+ flash启动</td><td>340</td><td>us</td></tr></table></body></html>  

### 3.3.9存储器特性  

表3-17闪存存储器特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>tERASE_128</td><td>页（128字节）编程时间</td><td>T=-40°℃~85°℃</td><td>2. 4</td><td>2.75</td><td>3.2</td><td>ms</td></tr><tr><td>tERASE</td><td>页（128字节）擦除时间</td><td>TA = -40°C~85°℃</td><td>2. 4</td><td>2.75</td><td>3.2</td><td>ms</td></tr><tr><td>tprog</td><td>16位的编程时间</td><td>TA =-40°C~85°C</td><td>2. 4</td><td>2. 75</td><td>3.2</td><td>ms</td></tr><tr><td>tERASE</td><td>页（1K字节）擦除时间</td><td>T = -40°℃~85°C</td><td>19</td><td>22</td><td>26</td><td>ms</td></tr><tr><td>七ME</td><td>整片擦除时间</td><td>TA = -40°℃~85°℃</td><td>2. 4</td><td>2.75</td><td>3.2</td><td>ms</td></tr><tr><td>Vprog</td><td>编程电压</td><td></td><td>2. 7</td><td></td><td>5.5</td><td>V</td></tr></table></body></html>  

表3-18闪存存储器寿命和数据保存期限  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>NEND</td><td>擦写次数</td><td>TA = 25°℃</td><td>10K</td><td>80K （1）</td><td></td><td>次</td></tr><tr><td>七RET</td><td>数据保存期限</td><td></td><td>10</td><td></td><td></td><td>年</td></tr></table></body></html>

注：实测操作擦写次数，非担保。  

### 3.3.10I/O端口特性  

表 3-19通用I/O静态特性  


<html><body><table><tr><td>符 号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>ViL</td><td>输入低电平电压</td><td>TTL端口</td><td>-0.3</td><td></td><td>0.8</td><td>V</td></tr><tr><td>VIH</td><td>标准I/O脚，输入高电平电压</td><td>TTL端口2.7V<VoD<4.2V</td><td>2</td><td></td><td>VoD+0. 3</td><td>Λ</td></tr><tr><td>ViL</td><td>输入低电平电压</td><td>TTL端口4.2V≤VoD<5.5V</td><td>0.55VoD</td><td></td><td>Vob+0.3</td><td>Λ</td></tr><tr><td>VIH</td><td>输入高电平电压</td><td>CMOS端口</td><td>-0.3 0. 65VoD</td><td></td><td>0.8 Vob+0.3</td><td>V</td></tr><tr><td>Vhys</td><td>标准I/O脚施密特触发器电压迟滞</td><td></td><td></td><td></td><td></td><td>V</td></tr><tr><td>Iikg</td><td>输入漏电流</td><td></td><td></td><td>330</td><td></td><td>mV</td></tr><tr><td>Rpu</td><td>弱上拉等效电阻</td><td></td><td></td><td></td><td>±1</td><td>uA</td></tr><tr><td>RPD</td><td>弱下拉等效电阻</td><td></td><td>30 30</td><td>42</td><td>55</td><td>KQ</td></tr><tr><td>C10</td><td>I/O引脚电容</td><td></td><td></td><td>42 5</td><td>55</td><td>KQ pF</td></tr></table></body></html>

注：以上均为设计参数保证；  

# 输出驱动电流特性  

GPI0(通用输入/输出端口)可以吸收或输出多达土8mA电流，并且吸收或输出土20mA电流(不严格达到$\mathsf{V}_{0\mathsf{L}}/\mathsf{V}_{0\mathsf{H}})$ 。在用户应用中，所有10引脚驱动总电流不能超过3.2节给出的绝对最大额定值。  

表3-20输出电压特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>最大值</td><td>单位</td></tr><tr><td>VoL</td><td>输出低电平，单个引脚吸收电流</td><td rowspan="2">TTL端口，Io=+8mA 2.7V<V<5.5V</td><td></td><td>0.4</td><td>V</td></tr><tr><td>VoH</td><td>输出高电平，单个引脚输出电流</td><td>VoD-0. 4</td><td></td><td>V</td></tr><tr><td>VoL</td><td>输出低电平，单个引脚吸收电流</td><td rowspan="2">CMOS端口，Io=+8mA 2.7V< VoD<5.5V</td><td></td><td>0.4</td><td>V</td></tr><tr><td>VoH</td><td>输出高电平，单个引脚输出电流</td><td>2.3</td><td></td><td>V</td></tr><tr><td>VoL</td><td>输出低电平，单个引脚吸收电流</td><td rowspan="2">110=+20mA 2.7V<VoD<5.5V</td><td rowspan="2">VDb-1.3</td><td rowspan="2">1.3 V</td><td rowspan="2">V</td></tr><tr><td>VoH</td><td>输出高电平，单个引脚输出电流</td></tr></table></body></html>

注：以上条件中如果多个10引脚同时驱动，电流总和不能超过表3.2节给出的绝对最大额定值。另外多个10引脚同时驱动时，电源/地线点上的电流很大，会导致压降使内部10的电压达不到表中电源电压，从而导致驱动电流小于标称值。  

表 3-21输入输出交流特性  


<html><body><table><tr><td>MODEx [1 : 0] 配置</td><td>符号</td><td>参数</td><td>条件</td><td>最小 值</td><td>最大值</td><td>单位</td></tr><tr><td rowspan="2">10 (2MHz)</td><td>Fmax(10)out</td><td>最大频率</td><td>CL = 50pF,VoD = 2.7-5.5V</td><td></td><td>2</td><td>MHz</td></tr><tr><td>tf(10)out</td><td>输出高至低电平的下降时间</td><td>CL = 50pF,VoD = 2.7-5.5V</td><td></td><td>125</td><td>ns</td></tr></table></body></html>  

<html><body><table><tr><td></td><td>tr(10)out</td><td>输出低至高电平的上升时间</td><td></td><td></td><td>125 ns</td></tr><tr><td rowspan="4">01 (10MHz)</td><td>Fmax(10)out</td><td>最大频率</td><td>CL = 50pF,VoD = 2.7-5.5V</td><td></td><td>10</td></tr><tr><td>七f(10)out</td><td>输出高至低电平的下降时间</td><td></td><td></td><td>MHz 25 ns</td></tr><tr><td>tr(10)out</td><td>输出低至高电平的上升时间</td><td>CL = 50pF,Vb = 2.7-5.5V</td><td>25</td><td>ns</td></tr><tr><td></td><td></td><td>CL = 30pF,Vob = 2.7-5.5V</td><td></td><td>50 MHz</td></tr><tr><td rowspan="4">11 (50MHz)</td><td>Fmax(10)out</td><td>最大频率</td><td>CL = 50pF,Vob = 2.7-5.5V</td><td></td><td>30 MHz</td></tr><tr><td>tf(10)out</td><td>输出高至低电平的下降时间</td><td>CL = 30pF, Vb = 2. 7-5. 5V CL = 50pF,Voo = 2. 7-5.5V</td><td></td><td>20 ns 5</td></tr><tr><td>tr(10)out</td><td></td><td>CL = 30pF,Voo = 2.7-5. 5V</td><td></td><td>ns 8 ns</td></tr><tr><td></td><td>输出低至高电平的上升时间</td><td>CL = 50pF,Vob = 2.7-5.5V</td><td></td><td>12 ns</td></tr><tr><td></td><td>tEXTIpw</td><td>EXTI控制器检测到外部信号 的脉冲宽度</td><td></td><td>10</td><td>ns</td></tr></table></body></html>

注：以上均为设计参数保证。  

### 3.3.11NRST 引I脚特性  

表3-22外部复位引脚特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>VIL(NRST) (1)</td><td>NRST输入低电平电压</td><td></td><td>-0.3</td><td></td><td>0.8</td><td>V</td></tr><tr><td>VIH (NRST) (1)</td><td>NRST输入高电平电压</td><td></td><td>0. 65VoD</td><td></td><td>Vob+0.5</td><td>V</td></tr><tr><td>Vhys (NRST)</td><td>NRST施密特触发器电压迟滞</td><td></td><td></td><td>330</td><td></td><td>mV</td></tr><tr><td>Rpu (2)</td><td>弱上拉等效电阻</td><td></td><td>30</td><td>42</td><td>55</td><td>KQ</td></tr><tr><td>TF(NRST) (1)</td><td>NRST输入滤波脉冲</td><td></td><td></td><td></td><td>4</td><td>ns</td></tr><tr><td>TNF (NRST) (1)</td><td>NRST输入非滤波脉冲</td><td></td><td>20</td><td></td><td></td><td>ns</td></tr></table></body></html>  

注：1.设计参数2.上拉电阻是一个真正的电阻串联一个可开关的PMOS实现。这个PMOS/NMOS开关的电阻很小（约占 $10\%$ 。  

电路参考设计及要求：  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/d55fcdf99fa9cb1ed84c84948a9a7ee358b7d3e2a13ac79fe49ed4dbe80197d6.jpg)  
图3-7外部复位引脚典型电路  

### 3.3.12TIM定时器特性  

表3-23TIMx特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>最大值</td><td>单位</td></tr><tr><td rowspan="2">tres(TIM)</td><td rowspan="2">定时器基准时钟</td><td></td><td>1</td><td></td><td>tTIMxCLK</td></tr><tr><td>fTIMxCLK =72MHz</td><td>13.9</td><td></td><td>ns</td></tr><tr><td rowspan="2"></td><td rowspan="2">CH1至CH4的定时器外部时钟频率</td><td></td><td>0</td><td>fTIMxCLk/2</td><td>MHz</td></tr><tr><td>fTIMXCLK = 72MHz</td><td>0</td><td>36</td><td>MHz</td></tr></table></body></html>  

<html><body><table><tr><td>ResTIM</td><td>定时器分辨率</td><td></td><td></td><td>16</td><td>位</td></tr><tr><td rowspan="2">tcoUNTER</td><td rowspan="2">当选择了内部时钟时，16位计数 器时钟周期</td><td></td><td>1</td><td>65536</td><td></td></tr><tr><td></td><td></td><td>910</td><td>tTIMxCLK</td></tr><tr><td rowspan="2">七MAX_COUNT</td><td rowspan="2">最大可能的计数</td><td>fTIMxCLk = 72MHz</td><td>0.0139</td><td>65535</td><td>us</td></tr><tr><td>fTIMxCLK = 72MHz</td><td></td><td>59.6</td><td>tTIMxCLK s</td></tr></table></body></html>

注：以上为设计参数  

### 3.3.13I2C接口特性  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/99a4b12133ab7e8c018276b0ad395efd4e3c96698604d6ff24c026fd0856d9a0.jpg)  
图 3-8I2C 总线时序图  

表 3-24I2C接口特性  


<html><body><table><tr><td rowspan="2">符号</td><td rowspan="2">参数</td><td colspan="2">标准I2C</td><td colspan="2">快速I2C</td><td rowspan="2">单位</td></tr><tr><td>最小值</td><td>最大值</td><td>最小值</td><td>最大值</td></tr><tr><td>tw(SCKL)</td><td>SCL时钟低电平时间</td><td>4.7</td><td></td><td>1. 2</td><td></td><td>sn</td></tr><tr><td>tw(SCKH)</td><td>SCL时钟高电平时间</td><td>4. 0</td><td></td><td>0.6</td><td></td><td>sn</td></tr><tr><td>tSU (SDA)</td><td>SDA数据建立时间</td><td>250</td><td></td><td>100</td><td></td><td>ns</td></tr><tr><td>th(SDA)</td><td>SDA数据保持时间</td><td>0</td><td></td><td>0</td><td>900</td><td>ns</td></tr><tr><td>tr(SDA) /tr(SCL)</td><td>SDA和SCL上升时间</td><td></td><td>1000</td><td>20</td><td></td><td>ns</td></tr><tr><td>tf(SDA)/tf(SCL)</td><td>SDA和SCL下降时间</td><td></td><td>300</td><td></td><td></td><td>ns</td></tr><tr><td>th(STA)</td><td>开始条件保持时间</td><td>4.0</td><td></td><td>0.6</td><td></td><td>sn</td></tr><tr><td>tsuU(STA)</td><td>重复的开始条件建立时间</td><td>4.7</td><td></td><td>0. 6</td><td></td><td>sn</td></tr><tr><td>tsU(STO)</td><td>停止条件建立时间</td><td>4.0</td><td></td><td>0.6</td><td></td><td>sn</td></tr><tr><td>tw(STO: STA)</td><td>停止条件至开始条件的时间（总线空闲）</td><td>4.7</td><td></td><td>1. 2</td><td></td><td>sn</td></tr><tr><td>Cb</td><td>每条总线的容性负载</td><td></td><td>400</td><td></td><td>400</td><td>pF</td></tr></table></body></html>  

### 3.3.14 SPI接口特性  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/eed4ef99ce4e61fa4635e9b29a64ef499372621f30412b2d311d79986e98bdcd.jpg)  
图3-9SPI主模式时序图  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/c59ce0bb8ea61186e0fa975da1f720f05f88a325f76341de4c19acc148668de6.jpg)  
图3-10SPI从模式时序图 $(C P H A=0)$  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/5816022c457f96b8c8f4ff6dc32ec81204cd96f32fd39e42dd8fb88cbf5c82dd.jpg)  
图3-11SP丨从模式时序图 $(C P H A=1)$  

表3-25SPI接口特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>最大值</td><td>单位</td></tr><tr><td rowspan="2">fsck/tsck</td><td rowspan="2">SPI时钟频率</td><td>主模式</td><td></td><td>36</td><td>MHz</td></tr><tr><td>从模式</td><td></td><td>36</td><td>MHz</td></tr><tr><td>tr(sck /tf(sck)</td><td>SPI时钟上升和下降时间</td><td>负载电容：C=30pF</td><td></td><td>20</td><td>ns</td></tr><tr><td>tsU(NSS)</td><td>NSS 建立时间</td><td>从模式</td><td>2tHCLK</td><td></td><td>ns</td></tr><tr><td>th(NSS)</td><td>NSS保持时间</td><td>从模式</td><td>2tHCLK</td><td></td><td>ns</td></tr><tr><td>tw(SCKH) /tw(SCKL)</td><td>SCK高电平和低电平时间</td><td>主模式，fHcLk=36MHz，预分频 系数=4</td><td>40</td><td>60</td><td>ns</td></tr><tr><td>tsU(MI)</td><td rowspan="2">数据输入建立时间</td><td>主模式</td><td>5</td><td></td><td>ns</td></tr><tr><td>tsu(SI)</td><td>从模式</td><td>5</td><td></td><td>ns</td></tr><tr><td>th(M1)</td><td rowspan="2">数据输入保持时间</td><td>主模式</td><td>5</td><td></td><td>ns</td></tr><tr><td>th(s1)</td><td>从模式</td><td>4</td><td></td><td>ns</td></tr><tr><td>ta(so)</td><td>数据输出访问时间</td><td>从模式，fHcLk= 20MHz</td><td>0</td><td>1 tHCLK</td><td>ns</td></tr><tr><td>tdis (SO)</td><td>数据输出禁止时间</td><td>从模式</td><td>0</td><td>10</td><td>ns</td></tr><tr><td>tv(so)</td><td rowspan="2">数据输出有效时间</td><td>从模式 (使能边沿之后)</td><td></td><td>25</td><td>ns</td></tr><tr><td>tv(MO)</td><td>主模式 (使能边沿之后)</td><td></td><td>5</td><td>ns</td></tr><tr><td>th(so)</td><td rowspan="2">数据输出保持时间</td><td>从模式 (使能边沿之后)</td><td>15</td><td></td><td>ns</td></tr><tr><td>th(MO)</td><td>主模式 (使能边沿之后)</td><td>0</td><td></td><td>ns</td></tr></table></body></html>  

### 3.3.15 USB 接口特性  

表 3-26USB 接口I/0 特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>最大值</td><td>单位</td></tr><tr><td>VDD</td><td>USB操作电压</td><td>不启用USB5VSEL控制位</td><td>3.0</td><td>3.6</td><td rowspan="2">V</td></tr><tr><td rowspan="2"></td><td rowspan="2"></td><td rowspan="2">启用USB5VSEL控制位</td><td rowspan="2">4. 2</td><td rowspan="2">5.5</td></tr><tr><td>VoD = 3.3V</td></tr><tr><td>VsE (1)</td><td>单端接收器阈值</td><td>VoD = 5V</td><td>1. 2 1. 2</td><td>1.9 2</td><td>V</td></tr></table></body></html>  

<html><body><table><tr><td>VoL</td><td>静态输出低电平</td><td></td><td>0.3</td><td>V</td></tr><tr><td>VoH</td><td>静态输出高电平</td><td></td><td>2.8 3.6</td><td>V</td></tr></table></body></html>

注：1.设计参数  

### 3.3.1612位 ADC 特性  

表 3-27 ADC 特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>VDDA</td><td>供电电压</td><td></td><td>3.0</td><td></td><td>5.5</td><td>V</td></tr><tr><td>fADC</td><td>ADC时钟频率</td><td></td><td colspan="2"></td><td>14</td><td>MHz</td></tr><tr><td>fs</td><td>采样速率</td><td></td><td colspan="2"></td><td>1</td><td>MHz</td></tr><tr><td rowspan="2">fTRIG</td><td rowspan="2">外部触发频率</td><td>fADc = 14MHz</td><td colspan="2"></td><td>875</td><td>KHz</td></tr><tr><td></td><td colspan="2"></td><td>16</td><td>1 /fADC</td></tr><tr><td>VAIN</td><td>转换电压范围</td><td></td><td colspan="2">0</td><td>VDDA</td><td>V</td></tr><tr><td>RAIN</td><td>外部输入阻抗</td><td></td><td colspan="2"></td><td>58</td><td>KQ</td></tr><tr><td>RADC</td><td>采样开关电阻</td><td></td><td colspan="2">0.6</td><td>1.3</td><td>KQ</td></tr><tr><td>CADC</td><td>内部采样和保持电容</td><td></td><td colspan="2">30</td><td></td><td>pF</td></tr><tr><td rowspan="2">tlat</td><td rowspan="2">注入触发转换时延</td><td>fADc = 14MHz</td><td colspan="2"></td><td>0.143</td><td>sn</td></tr><tr><td></td><td colspan="2"></td><td>2</td><td>1 /fADC</td></tr><tr><td rowspan="2">tlatr</td><td rowspan="2">常规触发转换时延</td><td>fADc = 14MHz</td><td colspan="2"></td><td>0.143</td><td>sn</td></tr><tr><td></td><td colspan="2"></td><td>2</td><td>1 / fADc</td></tr><tr><td rowspan="2">ts</td><td rowspan="2">采样时间</td><td>fADc = 14MHz</td><td colspan="2">0.107</td><td>17. 1</td><td>sn</td></tr><tr><td></td><td colspan="2">1.5</td><td>239.5</td><td>1 / fADC</td></tr><tr><td>tSTAB</td><td>上电时间</td><td></td><td colspan="2"></td><td>1</td><td>us</td></tr><tr><td rowspan="2">tCoNv</td><td rowspan="2">总的转换时间（包括采样时间）</td><td>fADc = 14MHz</td><td>1</td><td>18</td><td></td><td>sn</td></tr><tr><td></td><td>14</td><td>252</td><td></td><td>1 / fADc</td></tr></table></body></html>

注：以上均为设计参数保证。  

公式：最大 $\mathsf{R}_{\mathsf{A I N}}$  

$$
\mathbb{R}_{\mathrm{AIN}}<\frac{\mathbb{T}s}{\mathbb{f}_{\mathrm{ADC}}\times\hat{\mathbf{C}}_{\mathrm{ADC}}\times\ln2^{\mathrm{N}+2}}-\mathbb{R}_{\mathrm{ADC}}
$$  

上述公式用于决定最大的外部阻抗，使得误差可以小于 $1/4\mathsf{L S B}$ 。其中 $N{=}12$ (表示12位分辨率）。  

表3-28fADc=14MHz时的最大 $\mathsf{R}_{\mathsf{A I N}}$   


<html><body><table><tr><td>Ts(周期)</td><td>ts (us)</td><td>最大 RaIn (KQ)</td></tr><tr><td>1.5</td><td>0. 11</td><td>0 (不推荐)</td></tr><tr><td>7.5</td><td>0.54</td><td>1. 1</td></tr><tr><td>13.5</td><td>0.96</td><td>2.6</td></tr><tr><td>28.5</td><td>2. 04</td><td>6.2</td></tr><tr><td>41. 5</td><td>2. 96</td><td>9. 4</td></tr><tr><td>55.5</td><td>3. 96</td><td>12. 9</td></tr><tr><td>71.5</td><td>5. 11</td><td>16. 8</td></tr><tr><td>239.5</td><td>17. 1</td><td>58</td></tr></table></body></html>  

注：以上均为设计参数保证。  

${\sf G}_{\mathrm{p}}$ 表示PCB与焊盘上的寄生电容（大约5pF），可能与焊盘和PCB布局质量有关。较大的 ${\sf G}_{\mathrm{p}}$ 数值将降低转换精度，解决办法是降低 $\mathsf{f}_{\mathsf{A D C}}$ 值。  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/b72ba79297a0032c0a6eca053c09ab154d69f0e4e50b9fa75fe42bf34cb4b09e.jpg)  
图 3-12 ADC 典型连接图  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/5f8be6929cd7f638a010643ffb9aa0a406c562145ba248201578c0bfe3d711db.jpg)  
图3-13模拟电源及退耦电路参考  

### 3.3.17温度传感器特性  

表3-29温度传感器特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>Avg_Slope</td><td>平均斜率</td><td></td><td>3.3</td><td>4.3</td><td>5.3</td><td>mV/C</td></tr><tr><td>V25</td><td>在25℃时的电压</td><td></td><td>1. 1</td><td>1.34</td><td>1.6</td><td>V</td></tr><tr><td>Ts_temp</td><td>当读取温度时，ADC采样时间</td><td>fADc = 14MHz</td><td></td><td></td><td>17.1</td><td>sn</td></tr></table></body></html>

注：以上均为设计参数保证。  

### 3.3.18 TKey 模块特性  

表 3-30TKey 模块特性  


<html><body><table><tr><td>符号</td><td>参数</td><td>条件</td><td>最小值</td><td>典型值</td><td>最大值</td><td>单位</td></tr><tr><td>ITKey</td><td>模块工作电流</td><td>VoD = 3.3V</td><td>211</td><td>270</td><td>421</td><td>uA</td></tr></table></body></html>  

# 第4章封装及订货信息  

芯片封装  


<html><body><table><tr><td>订货型号</td><td>封装形式</td><td>塑体宽度</td><td>引脚间距</td><td>封装说明</td><td>出货料盘</td></tr><tr><td>CH32V103R8T6</td><td>LQFP64M</td><td>10*10mm</td><td>0.5mm</td><td>LQFP64M（10*10）贴片</td><td>托盘</td></tr><tr><td>CH32V103C6T6</td><td>LQFP48</td><td>7*7mm</td><td>0.5mm</td><td>标准LQFP48脚贴片</td><td>托盘</td></tr><tr><td>CH32V103C8T6</td><td>LQFP48</td><td>7*7mm</td><td>0.5mm</td><td>标准LQFP48脚贴片</td><td>托盘</td></tr><tr><td>CH32V103C8U6</td><td>QFN48X7</td><td>7*7mm</td><td>0.5mm</td><td>方形无引线48脚贴片</td><td>托盘</td></tr></table></body></html>

说明：1.QFP/QFN一般默认为托盘。2.托盘尺寸：托盘大小一般为统一尺寸， $322.6^{*}135.9^{*}7.62$ ，不同封装类型限位孔尺寸有区别，塑管不同封装厂有区别，具体与厂家确认。  

说明：尺寸标注的单位是mm（毫米），引脚中心间距总是标称值，没有误差，除此之外的尺寸误差不大于 $\pm0.2\mathsf{m m}$ 或者土 $10\%$ 两者中的较大值。  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/5438749268a7b742c5e19abb75c3886400d9bf972b94176bcbde8dc45df39429.jpg)  
图4-1LQFP64M封装  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/f4505827f54116654e298c0abf302c90eb2a66ef5d751530f87ef66fb6bb8705.jpg)  
图4-2LQFP48封装  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/8172c66163df93fc6e6be84d9d3ade25c670c8ad51b7d888230063aacd02b56e.jpg)  
图 4-3QFN48X7封装  

![](https://cdn-mineru.openxlab.org.cn/extract/f505d67d-9e81-461d-bd19-f0af3e57a813/42ea0a477a7f92f93b608720dbb8e0c490b18282177b1080a65e1d41e996ba46.jpg)  

$3=-40^{\circ}C\sim125^{\circ}C$ (汽车1级) $\Delta=-40^{\circ}C\sim150^{\circ}C$ (汽车0级)  